"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _react = _interopRequireWildcard(require("react"));

var _reactVis = require("react-vis");

var _styledComponents = _interopRequireDefault(require("styled-components"));

var _utils = require("@kepler.gl/utils");

var _templateObject, _templateObject2;

var LineChartWrapper = _styledComponents["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  .rv-xy-plot {\n    /* important for rendering hint */\n    position: relative;\n  }\n  .rv-xy-plot__inner {\n    /* important to show axis */\n    overflow: visible;\n  }\n\n  .rv-xy-plot__grid-lines__line {\n    stroke: ", ";\n    stroke-dasharray: 1px 4px;\n  }\n\n  .rv-xy-plot__axis__tick__text {\n    font-size: 9px;\n    fill: ", ";\n  }\n"])), function (props) {
  return props.theme.histogramFillOutRange;
}, function (props) {
  return props.theme.textColor;
});

var StyledHint = _styledComponents["default"].div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n  background-color: #d3d8e0;\n  border-radius: 2px;\n  color: ", ";\n  font-size: 9px;\n  margin: 4px;\n  padding: 3px 6px;\n  pointer-events: none;\n  user-select: none;\n"])), function (props) {
  return props.theme.textColorLT;
});

var HintContent = function HintContent(_ref) {
  var x = _ref.x,
      y = _ref.y,
      format = _ref.format;
  return /*#__PURE__*/_react["default"].createElement(StyledHint, null, /*#__PURE__*/_react["default"].createElement("div", {
    className: "hint--x"
  }, format(x)), /*#__PURE__*/_react["default"].createElement("div", {
    className: "row"
  }, y));
};

var MARGIN = {
  top: 0,
  bottom: 0,
  left: 0,
  right: 0
};

function LineChartFactory() {
  var LineChartComponent = function LineChartComponent(_ref2) {
    var brushComponent = _ref2.brushComponent,
        brushing = _ref2.brushing,
        color = _ref2.color,
        enableChartHover = _ref2.enableChartHover,
        height = _ref2.height,
        hoveredDP = _ref2.hoveredDP,
        isEnlarged = _ref2.isEnlarged,
        lineChart = _ref2.lineChart,
        margin = _ref2.margin,
        onMouseMove = _ref2.onMouseMove,
        width = _ref2.width,
        timezone = _ref2.timezone,
        timeFormat = _ref2.timeFormat;

    var _ref3 = lineChart || {},
        series = _ref3.series,
        yDomain = _ref3.yDomain;

    var brushData = (0, _react.useMemo)(function () {
      return series && series[0] && series[0].x && yDomain && yDomain[1] ? [{
        x: series[0].x,
        y: yDomain[1],
        customComponent: function customComponent() {
          return brushComponent;
        }
      }] : [];
    }, [series, yDomain, brushComponent]);
    var hintFormatter = (0, _react.useMemo)(function () {
      return (0, _utils.datetimeFormatter)(timezone)(timeFormat);
    }, [timezone, timeFormat]);
    return /*#__PURE__*/_react["default"].createElement(LineChartWrapper, {
      style: {
        marginTop: "".concat(margin.top, "px")
      }
    }, /*#__PURE__*/_react["default"].createElement(_reactVis.XYPlot, {
      xType: "time",
      width: width,
      height: height,
      margin: MARGIN,
      onMouseLeave: function onMouseLeave() {
        onMouseMove(null);
      }
    }, /*#__PURE__*/_react["default"].createElement(_reactVis.HorizontalGridLines, {
      tickTotal: 3
    }), /*#__PURE__*/_react["default"].createElement(_reactVis.LineSeries, {
      style: {
        fill: 'none'
      },
      color: color,
      data: series,
      onNearestX: enableChartHover ? onMouseMove : undefined
    }), /*#__PURE__*/_react["default"].createElement(_reactVis.MarkSeries, {
      data: hoveredDP ? [hoveredDP] : [],
      color: color
    }), /*#__PURE__*/_react["default"].createElement(_reactVis.CustomSVGSeries, {
      data: brushData
    }), isEnlarged && /*#__PURE__*/_react["default"].createElement(_reactVis.YAxis, {
      tickTotal: 3
    }), hoveredDP && enableChartHover && !brushing ? /*#__PURE__*/_react["default"].createElement(_reactVis.Hint, {
      value: hoveredDP
    }, /*#__PURE__*/_react["default"].createElement(HintContent, (0, _extends2["default"])({}, hoveredDP, {
      format: hintFormatter
    }))) : null));
  };

  return LineChartComponent;
}

var _default = LineChartFactory;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21tb24vbGluZS1jaGFydC50c3giXSwibmFtZXMiOlsiTGluZUNoYXJ0V3JhcHBlciIsInN0eWxlZCIsImRpdiIsInByb3BzIiwidGhlbWUiLCJoaXN0b2dyYW1GaWxsT3V0UmFuZ2UiLCJ0ZXh0Q29sb3IiLCJTdHlsZWRIaW50IiwidGV4dENvbG9yTFQiLCJIaW50Q29udGVudCIsIngiLCJ5IiwiZm9ybWF0IiwiTUFSR0lOIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwiTGluZUNoYXJ0RmFjdG9yeSIsIkxpbmVDaGFydENvbXBvbmVudCIsImJydXNoQ29tcG9uZW50IiwiYnJ1c2hpbmciLCJjb2xvciIsImVuYWJsZUNoYXJ0SG92ZXIiLCJoZWlnaHQiLCJob3ZlcmVkRFAiLCJpc0VubGFyZ2VkIiwibGluZUNoYXJ0IiwibWFyZ2luIiwib25Nb3VzZU1vdmUiLCJ3aWR0aCIsInRpbWV6b25lIiwidGltZUZvcm1hdCIsInNlcmllcyIsInlEb21haW4iLCJicnVzaERhdGEiLCJjdXN0b21Db21wb25lbnQiLCJoaW50Rm9ybWF0dGVyIiwibWFyZ2luVG9wIiwiZmlsbCIsInVuZGVmaW5lZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBR0E7O0FBQ0E7O0FBWUE7O0FBQ0E7Ozs7QUFFQSxJQUFNQSxnQkFBZ0IsR0FBR0MsNkJBQU9DLEdBQVYsb2JBV1IsVUFBQUMsS0FBSztBQUFBLFNBQUlBLEtBQUssQ0FBQ0MsS0FBTixDQUFZQyxxQkFBaEI7QUFBQSxDQVhHLEVBaUJWLFVBQUFGLEtBQUs7QUFBQSxTQUFJQSxLQUFLLENBQUNDLEtBQU4sQ0FBWUUsU0FBaEI7QUFBQSxDQWpCSyxDQUF0Qjs7QUFxQkEsSUFBTUMsVUFBVSxHQUFHTiw2QkFBT0MsR0FBVix1UUFHTCxVQUFBQyxLQUFLO0FBQUEsU0FBSUEsS0FBSyxDQUFDQyxLQUFOLENBQVlJLFdBQWhCO0FBQUEsQ0FIQSxDQUFoQjs7QUFpQkEsSUFBTUMsV0FBVyxHQUFHLFNBQWRBLFdBQWM7QUFBQSxNQUFFQyxDQUFGLFFBQUVBLENBQUY7QUFBQSxNQUFLQyxDQUFMLFFBQUtBLENBQUw7QUFBQSxNQUFRQyxNQUFSLFFBQVFBLE1BQVI7QUFBQSxzQkFDbEIsZ0NBQUMsVUFBRCxxQkFDRTtBQUFLLElBQUEsU0FBUyxFQUFDO0FBQWYsS0FBMEJBLE1BQU0sQ0FBQ0YsQ0FBRCxDQUFoQyxDQURGLGVBRUU7QUFBSyxJQUFBLFNBQVMsRUFBQztBQUFmLEtBQXNCQyxDQUF0QixDQUZGLENBRGtCO0FBQUEsQ0FBcEI7O0FBaUNBLElBQU1FLE1BQU0sR0FBRztBQUFDQyxFQUFBQSxHQUFHLEVBQUUsQ0FBTjtBQUFTQyxFQUFBQSxNQUFNLEVBQUUsQ0FBakI7QUFBb0JDLEVBQUFBLElBQUksRUFBRSxDQUExQjtBQUE2QkMsRUFBQUEsS0FBSyxFQUFFO0FBQXBDLENBQWY7O0FBQ0EsU0FBU0MsZ0JBQVQsR0FBNEI7QUFDMUIsTUFBTUMsa0JBQWtCLEdBQUcsU0FBckJBLGtCQUFxQixRQWNMO0FBQUEsUUFicEJDLGNBYW9CLFNBYnBCQSxjQWFvQjtBQUFBLFFBWnBCQyxRQVlvQixTQVpwQkEsUUFZb0I7QUFBQSxRQVhwQkMsS0FXb0IsU0FYcEJBLEtBV29CO0FBQUEsUUFWcEJDLGdCQVVvQixTQVZwQkEsZ0JBVW9CO0FBQUEsUUFUcEJDLE1BU29CLFNBVHBCQSxNQVNvQjtBQUFBLFFBUnBCQyxTQVFvQixTQVJwQkEsU0FRb0I7QUFBQSxRQVBwQkMsVUFPb0IsU0FQcEJBLFVBT29CO0FBQUEsUUFOcEJDLFNBTW9CLFNBTnBCQSxTQU1vQjtBQUFBLFFBTHBCQyxNQUtvQixTQUxwQkEsTUFLb0I7QUFBQSxRQUpwQkMsV0FJb0IsU0FKcEJBLFdBSW9CO0FBQUEsUUFIcEJDLEtBR29CLFNBSHBCQSxLQUdvQjtBQUFBLFFBRnBCQyxRQUVvQixTQUZwQkEsUUFFb0I7QUFBQSxRQURwQkMsVUFDb0IsU0FEcEJBLFVBQ29COztBQUFBLGdCQUNNTCxTQUFTLElBQUksRUFEbkI7QUFBQSxRQUNiTSxNQURhLFNBQ2JBLE1BRGE7QUFBQSxRQUNMQyxPQURLLFNBQ0xBLE9BREs7O0FBR3BCLFFBQU1DLFNBQVMsR0FBRyxvQkFBUSxZQUFNO0FBQzlCLGFBQU9GLE1BQU0sSUFBSUEsTUFBTSxDQUFDLENBQUQsQ0FBaEIsSUFBdUJBLE1BQU0sQ0FBQyxDQUFELENBQU4sQ0FBVXZCLENBQWpDLElBQXNDd0IsT0FBdEMsSUFBaURBLE9BQU8sQ0FBQyxDQUFELENBQXhELEdBQ0gsQ0FBQztBQUFDeEIsUUFBQUEsQ0FBQyxFQUFFdUIsTUFBTSxDQUFDLENBQUQsQ0FBTixDQUFVdkIsQ0FBZDtBQUFpQkMsUUFBQUEsQ0FBQyxFQUFFdUIsT0FBTyxDQUFDLENBQUQsQ0FBM0I7QUFBZ0NFLFFBQUFBLGVBQWUsRUFBRTtBQUFBLGlCQUFNaEIsY0FBTjtBQUFBO0FBQWpELE9BQUQsQ0FERyxHQUVILEVBRko7QUFHRCxLQUppQixFQUlmLENBQUNhLE1BQUQsRUFBU0MsT0FBVCxFQUFrQmQsY0FBbEIsQ0FKZSxDQUFsQjtBQUtBLFFBQU1pQixhQUFhLEdBQUcsb0JBQVE7QUFBQSxhQUFNLDhCQUFrQk4sUUFBbEIsRUFBNEJDLFVBQTVCLENBQU47QUFBQSxLQUFSLEVBQXVELENBQzNFRCxRQUQyRSxFQUUzRUMsVUFGMkUsQ0FBdkQsQ0FBdEI7QUFLQSx3QkFDRSxnQ0FBQyxnQkFBRDtBQUFrQixNQUFBLEtBQUssRUFBRTtBQUFDTSxRQUFBQSxTQUFTLFlBQUtWLE1BQU0sQ0FBQ2QsR0FBWjtBQUFWO0FBQXpCLG9CQUNFLGdDQUFDLGdCQUFEO0FBQ0UsTUFBQSxLQUFLLEVBQUMsTUFEUjtBQUVFLE1BQUEsS0FBSyxFQUFFZ0IsS0FGVDtBQUdFLE1BQUEsTUFBTSxFQUFFTixNQUhWO0FBSUUsTUFBQSxNQUFNLEVBQUVYLE1BSlY7QUFLRSxNQUFBLFlBQVksRUFBRSx3QkFBTTtBQUNsQmdCLFFBQUFBLFdBQVcsQ0FBQyxJQUFELENBQVg7QUFDRDtBQVBILG9CQVNFLGdDQUFDLDZCQUFEO0FBQXFCLE1BQUEsU0FBUyxFQUFFO0FBQWhDLE1BVEYsZUFVRSxnQ0FBQyxvQkFBRDtBQUNFLE1BQUEsS0FBSyxFQUFFO0FBQUNVLFFBQUFBLElBQUksRUFBRTtBQUFQLE9BRFQ7QUFFRSxNQUFBLEtBQUssRUFBRWpCLEtBRlQ7QUFHRSxNQUFBLElBQUksRUFBRVcsTUFIUjtBQUlFLE1BQUEsVUFBVSxFQUFFVixnQkFBZ0IsR0FBR00sV0FBSCxHQUFpQlc7QUFKL0MsTUFWRixlQWdCRSxnQ0FBQyxvQkFBRDtBQUFZLE1BQUEsSUFBSSxFQUFFZixTQUFTLEdBQUcsQ0FBQ0EsU0FBRCxDQUFILEdBQWlCLEVBQTVDO0FBQWdELE1BQUEsS0FBSyxFQUFFSDtBQUF2RCxNQWhCRixlQWlCRSxnQ0FBQyx5QkFBRDtBQUFpQixNQUFBLElBQUksRUFBRWE7QUFBdkIsTUFqQkYsRUFrQkdULFVBQVUsaUJBQUksZ0NBQUMsZUFBRDtBQUFPLE1BQUEsU0FBUyxFQUFFO0FBQWxCLE1BbEJqQixFQW1CR0QsU0FBUyxJQUFJRixnQkFBYixJQUFpQyxDQUFDRixRQUFsQyxnQkFDQyxnQ0FBQyxjQUFEO0FBQU0sTUFBQSxLQUFLLEVBQUVJO0FBQWIsb0JBQ0UsZ0NBQUMsV0FBRCxnQ0FBaUJBLFNBQWpCO0FBQTRCLE1BQUEsTUFBTSxFQUFFWTtBQUFwQyxPQURGLENBREQsR0FJRyxJQXZCTixDQURGLENBREY7QUE2QkQsR0F4REQ7O0FBeURBLFNBQU9sQixrQkFBUDtBQUNEOztlQUVjRCxnQiIsInNvdXJjZXNDb250ZW50IjpbIi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCBjb250cmlidXRvcnMgdG8gdGhlIGtlcGxlci5nbCBwcm9qZWN0XG5cbmltcG9ydCBSZWFjdCwge3VzZU1lbW99IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7XG4gIEhvcml6b250YWxHcmlkTGluZXMsXG4gIExpbmVTZXJpZXMsXG4gIFhZUGxvdCxcbiAgQ3VzdG9tU1ZHU2VyaWVzLFxuICBIaW50LFxuICBZQXhpcyxcbiAgTWFya1NlcmllcyxcbiAgTGluZVNlcmllc1BvaW50LFxuICBSVk5lYXJlc3RYRGF0YVxufSBmcm9tICdyZWFjdC12aXMnO1xuaW1wb3J0IHtMaW5lQ2hhcnR9IGZyb20gJ0BrZXBsZXIuZ2wvdHlwZXMnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQge2RhdGV0aW1lRm9ybWF0dGVyfSBmcm9tICdAa2VwbGVyLmdsL3V0aWxzJztcblxuY29uc3QgTGluZUNoYXJ0V3JhcHBlciA9IHN0eWxlZC5kaXZgXG4gIC5ydi14eS1wbG90IHtcbiAgICAvKiBpbXBvcnRhbnQgZm9yIHJlbmRlcmluZyBoaW50ICovXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG4gIC5ydi14eS1wbG90X19pbm5lciB7XG4gICAgLyogaW1wb3J0YW50IHRvIHNob3cgYXhpcyAqL1xuICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuICB9XG5cbiAgLnJ2LXh5LXBsb3RfX2dyaWQtbGluZXNfX2xpbmUge1xuICAgIHN0cm9rZTogJHtwcm9wcyA9PiBwcm9wcy50aGVtZS5oaXN0b2dyYW1GaWxsT3V0UmFuZ2V9O1xuICAgIHN0cm9rZS1kYXNoYXJyYXk6IDFweCA0cHg7XG4gIH1cblxuICAucnYteHktcGxvdF9fYXhpc19fdGlja19fdGV4dCB7XG4gICAgZm9udC1zaXplOiA5cHg7XG4gICAgZmlsbDogJHtwcm9wcyA9PiBwcm9wcy50aGVtZS50ZXh0Q29sb3J9O1xuICB9XG5gO1xuXG5jb25zdCBTdHlsZWRIaW50ID0gc3R5bGVkLmRpdmBcbiAgYmFja2dyb3VuZC1jb2xvcjogI2QzZDhlMDtcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xuICBjb2xvcjogJHtwcm9wcyA9PiBwcm9wcy50aGVtZS50ZXh0Q29sb3JMVH07XG4gIGZvbnQtc2l6ZTogOXB4O1xuICBtYXJnaW46IDRweDtcbiAgcGFkZGluZzogM3B4IDZweDtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIHVzZXItc2VsZWN0OiBub25lO1xuYDtcblxuaW50ZXJmYWNlIEhpbnRDb250ZW50UHJvcHMge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgZm9ybWF0OiAodHM6IG51bWJlcikgPT4gc3RyaW5nO1xufVxuXG5jb25zdCBIaW50Q29udGVudCA9ICh7eCwgeSwgZm9ybWF0fTogSGludENvbnRlbnRQcm9wcykgPT4gKFxuICA8U3R5bGVkSGludD5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImhpbnQtLXhcIj57Zm9ybWF0KHgpfTwvZGl2PlxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+e3l9PC9kaXY+XG4gIDwvU3R5bGVkSGludD5cbik7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSG92ZXJEUCB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICBjb2xvcj86IHN0cmluZyB8IG51bWJlcjtcbiAgb3BhY2l0eT86IHN0cmluZyB8IG51bWJlcjtcbiAgc3Ryb2tlPzogc3RyaW5nIHwgbnVtYmVyO1xuICBmaWxsPzogc3RyaW5nIHwgbnVtYmVyO1xuICBzaXplPzogc3RyaW5nIHwgbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgTGluZUNoYXJ0UHJvcHMge1xuICBicnVzaENvbXBvbmVudD86IGFueTtcbiAgYnJ1c2hpbmc/OiBib29sZWFuO1xuICBjb2xvcj86IHN0cmluZztcbiAgZW5hYmxlQ2hhcnRIb3Zlcj86IGJvb2xlYW47XG4gIGhlaWdodDogbnVtYmVyO1xuICBob3ZlcmVkRFA/OiBIb3ZlckRQIHwgbnVsbDtcbiAgaXNFbmxhcmdlZD86IGJvb2xlYW47XG4gIGxpbmVDaGFydD86IExpbmVDaGFydDtcbiAgbWFyZ2luOiB7dG9wPzogbnVtYmVyOyBib3R0b20/OiBudW1iZXI7IGxlZnQ/OiBudW1iZXI7IHJpZ2h0PzogbnVtYmVyfTtcbiAgb25Nb3VzZU1vdmU6IChkYXRhcG9pbnQ6IExpbmVTZXJpZXNQb2ludCB8IG51bGwsIGRhdGE/OiBSVk5lYXJlc3RYRGF0YTxMaW5lU2VyaWVzUG9pbnQ+KSA9PiB2b2lkO1xuICB3aWR0aDogbnVtYmVyO1xuICB0aW1lem9uZT86IHN0cmluZyB8IG51bGw7XG4gIHRpbWVGb3JtYXQ/OiBzdHJpbmc7XG59XG5cbmNvbnN0IE1BUkdJTiA9IHt0b3A6IDAsIGJvdHRvbTogMCwgbGVmdDogMCwgcmlnaHQ6IDB9O1xuZnVuY3Rpb24gTGluZUNoYXJ0RmFjdG9yeSgpIHtcbiAgY29uc3QgTGluZUNoYXJ0Q29tcG9uZW50ID0gKHtcbiAgICBicnVzaENvbXBvbmVudCxcbiAgICBicnVzaGluZyxcbiAgICBjb2xvcixcbiAgICBlbmFibGVDaGFydEhvdmVyLFxuICAgIGhlaWdodCxcbiAgICBob3ZlcmVkRFAsXG4gICAgaXNFbmxhcmdlZCxcbiAgICBsaW5lQ2hhcnQsXG4gICAgbWFyZ2luLFxuICAgIG9uTW91c2VNb3ZlLFxuICAgIHdpZHRoLFxuICAgIHRpbWV6b25lLFxuICAgIHRpbWVGb3JtYXRcbiAgfTogTGluZUNoYXJ0UHJvcHMpID0+IHtcbiAgICBjb25zdCB7c2VyaWVzLCB5RG9tYWlufSA9IGxpbmVDaGFydCB8fCB7fTtcblxuICAgIGNvbnN0IGJydXNoRGF0YSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgcmV0dXJuIHNlcmllcyAmJiBzZXJpZXNbMF0gJiYgc2VyaWVzWzBdLnggJiYgeURvbWFpbiAmJiB5RG9tYWluWzFdXG4gICAgICAgID8gW3t4OiBzZXJpZXNbMF0ueCwgeTogeURvbWFpblsxXSwgY3VzdG9tQ29tcG9uZW50OiAoKSA9PiBicnVzaENvbXBvbmVudH1dXG4gICAgICAgIDogW107XG4gICAgfSwgW3NlcmllcywgeURvbWFpbiwgYnJ1c2hDb21wb25lbnRdKTtcbiAgICBjb25zdCBoaW50Rm9ybWF0dGVyID0gdXNlTWVtbygoKSA9PiBkYXRldGltZUZvcm1hdHRlcih0aW1lem9uZSkodGltZUZvcm1hdCksIFtcbiAgICAgIHRpbWV6b25lLFxuICAgICAgdGltZUZvcm1hdFxuICAgIF0pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5lQ2hhcnRXcmFwcGVyIHN0eWxlPXt7bWFyZ2luVG9wOiBgJHttYXJnaW4udG9wfXB4YH19PlxuICAgICAgICA8WFlQbG90XG4gICAgICAgICAgeFR5cGU9XCJ0aW1lXCJcbiAgICAgICAgICB3aWR0aD17d2lkdGh9XG4gICAgICAgICAgaGVpZ2h0PXtoZWlnaHR9XG4gICAgICAgICAgbWFyZ2luPXtNQVJHSU59XG4gICAgICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiB7XG4gICAgICAgICAgICBvbk1vdXNlTW92ZShudWxsKTtcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPEhvcml6b250YWxHcmlkTGluZXMgdGlja1RvdGFsPXszfSAvPlxuICAgICAgICAgIDxMaW5lU2VyaWVzXG4gICAgICAgICAgICBzdHlsZT17e2ZpbGw6ICdub25lJ319XG4gICAgICAgICAgICBjb2xvcj17Y29sb3J9XG4gICAgICAgICAgICBkYXRhPXtzZXJpZXN9XG4gICAgICAgICAgICBvbk5lYXJlc3RYPXtlbmFibGVDaGFydEhvdmVyID8gb25Nb3VzZU1vdmUgOiB1bmRlZmluZWR9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8TWFya1NlcmllcyBkYXRhPXtob3ZlcmVkRFAgPyBbaG92ZXJlZERQXSA6IFtdfSBjb2xvcj17Y29sb3J9IC8+XG4gICAgICAgICAgPEN1c3RvbVNWR1NlcmllcyBkYXRhPXticnVzaERhdGF9IC8+XG4gICAgICAgICAge2lzRW5sYXJnZWQgJiYgPFlBeGlzIHRpY2tUb3RhbD17M30gLz59XG4gICAgICAgICAge2hvdmVyZWREUCAmJiBlbmFibGVDaGFydEhvdmVyICYmICFicnVzaGluZyA/IChcbiAgICAgICAgICAgIDxIaW50IHZhbHVlPXtob3ZlcmVkRFB9PlxuICAgICAgICAgICAgICA8SGludENvbnRlbnQgey4uLmhvdmVyZWREUH0gZm9ybWF0PXtoaW50Rm9ybWF0dGVyfSAvPlxuICAgICAgICAgICAgPC9IaW50PlxuICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICA8L1hZUGxvdD5cbiAgICAgIDwvTGluZUNoYXJ0V3JhcHBlcj5cbiAgICApO1xuICB9O1xuICByZXR1cm4gTGluZUNoYXJ0Q29tcG9uZW50O1xufVxuXG5leHBvcnQgZGVmYXVsdCBMaW5lQ2hhcnRGYWN0b3J5O1xuIl19