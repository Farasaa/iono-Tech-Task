"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _react = _interopRequireDefault(require("react"));

var _styledComponents = _interopRequireDefault(require("styled-components"));

var _localization = require("@kepler.gl/localization");

var _styledComponents2 = require("../../common/styled-components");

var _fieldSelector = _interopRequireDefault(require("../../common/field-selector"));

var _reducers = require("@kepler.gl/reducers");

var _templateObject, _templateObject2, _templateObject3;

var ColumnRow = _styledComponents["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  display: flex;\n  margin-bottom: 8px;\n  align-items: center;\n"])));

var ColumnName = _styledComponents["default"].div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n  width: 27%;\n  line-height: 1.2;\n  padding-right: 6px;\n"])));

var ColumnSelect = _styledComponents["default"].div(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n  width: 73%;\n"])));

ColumnSelectorFactory.deps = [_fieldSelector["default"]];

function ColumnSelectorFactory(FieldSelector) {
  var ColumnSelector = function ColumnSelector(_ref) {
    var column = _ref.column,
        columns = _ref.columns,
        label = _ref.label,
        allFields = _ref.allFields,
        onSelect = _ref.onSelect,
        fieldPairs = _ref.fieldPairs;
    return /*#__PURE__*/_react["default"].createElement(ColumnRow, {
      className: "layer-config__column__selector"
    }, /*#__PURE__*/_react["default"].createElement(ColumnName, {
      className: "layer-config__column__name"
    }, /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelLabel, null, /*#__PURE__*/_react["default"].createElement(_localization.FormattedMessage, {
      id: "columns.".concat(label)
    }), !column.optional ? "  *" : null)), /*#__PURE__*/_react["default"].createElement(ColumnSelect, {
      className: "layer-config__column__select"
    }, /*#__PURE__*/_react["default"].createElement(FieldSelector, {
      suggested: fieldPairs,
      error: !(0, _reducers.validateColumn)(column, columns, allFields),
      fields: allFields,
      value: column.value,
      erasable: Boolean(column.optional),
      onSelect: onSelect
    })));
  };

  return ColumnSelector;
}

var _default = ColumnSelectorFactory;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zaWRlLXBhbmVsL2xheWVyLXBhbmVsL2NvbHVtbi1zZWxlY3Rvci50c3giXSwibmFtZXMiOlsiQ29sdW1uUm93Iiwic3R5bGVkIiwiZGl2IiwiQ29sdW1uTmFtZSIsIkNvbHVtblNlbGVjdCIsIkNvbHVtblNlbGVjdG9yRmFjdG9yeSIsImRlcHMiLCJGaWVsZFNlbGVjdG9yRmFjdG9yeSIsIkZpZWxkU2VsZWN0b3IiLCJDb2x1bW5TZWxlY3RvciIsImNvbHVtbiIsImNvbHVtbnMiLCJsYWJlbCIsImFsbEZpZWxkcyIsIm9uU2VsZWN0IiwiZmllbGRQYWlycyIsIm9wdGlvbmFsIiwidmFsdWUiLCJCb29sZWFuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUdBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBMkJBLElBQU1BLFNBQVMsR0FBR0MsNkJBQU9DLEdBQVYseUpBQWY7O0FBTUEsSUFBTUMsVUFBVSxHQUFHRiw2QkFBT0MsR0FBVixxSkFBaEI7O0FBTUEsSUFBTUUsWUFBWSxHQUFHSCw2QkFBT0MsR0FBVix5R0FBbEI7O0FBSUFHLHFCQUFxQixDQUFDQyxJQUF0QixHQUE2QixDQUFDQyx5QkFBRCxDQUE3Qjs7QUFFQSxTQUFTRixxQkFBVCxDQUErQkcsYUFBL0IsRUFBdUY7QUFDckYsTUFBTUMsY0FBNkMsR0FBRyxTQUFoREEsY0FBZ0Q7QUFBQSxRQUNwREMsTUFEb0QsUUFDcERBLE1BRG9EO0FBQUEsUUFFcERDLE9BRm9ELFFBRXBEQSxPQUZvRDtBQUFBLFFBR3BEQyxLQUhvRCxRQUdwREEsS0FIb0Q7QUFBQSxRQUlwREMsU0FKb0QsUUFJcERBLFNBSm9EO0FBQUEsUUFLcERDLFFBTG9ELFFBS3BEQSxRQUxvRDtBQUFBLFFBTXBEQyxVQU5vRCxRQU1wREEsVUFOb0Q7QUFBQSx3QkFRcEQsZ0NBQUMsU0FBRDtBQUFXLE1BQUEsU0FBUyxFQUFDO0FBQXJCLG9CQUNFLGdDQUFDLFVBQUQ7QUFBWSxNQUFBLFNBQVMsRUFBQztBQUF0QixvQkFDRSxnQ0FBQyw2QkFBRCxxQkFDRSxnQ0FBQyw4QkFBRDtBQUFrQixNQUFBLEVBQUUsb0JBQWFILEtBQWI7QUFBcEIsTUFERixFQUVHLENBQUNGLE1BQU0sQ0FBQ00sUUFBUixXQUEyQixJQUY5QixDQURGLENBREYsZUFPRSxnQ0FBQyxZQUFEO0FBQWMsTUFBQSxTQUFTLEVBQUM7QUFBeEIsb0JBQ0UsZ0NBQUMsYUFBRDtBQUNFLE1BQUEsU0FBUyxFQUFFRCxVQURiO0FBRUUsTUFBQSxLQUFLLEVBQUUsQ0FBQyw4QkFBZUwsTUFBZixFQUF1QkMsT0FBdkIsRUFBZ0NFLFNBQWhDLENBRlY7QUFHRSxNQUFBLE1BQU0sRUFBRUEsU0FIVjtBQUlFLE1BQUEsS0FBSyxFQUFFSCxNQUFNLENBQUNPLEtBSmhCO0FBS0UsTUFBQSxRQUFRLEVBQUVDLE9BQU8sQ0FBQ1IsTUFBTSxDQUFDTSxRQUFSLENBTG5CO0FBTUUsTUFBQSxRQUFRLEVBQUVGO0FBTlosTUFERixDQVBGLENBUm9EO0FBQUEsR0FBdEQ7O0FBMkJBLFNBQU9MLGNBQVA7QUFDRDs7ZUFFY0oscUIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgY29udHJpYnV0b3JzIHRvIHRoZSBrZXBsZXIuZ2wgcHJvamVjdFxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQge0Zvcm1hdHRlZE1lc3NhZ2V9IGZyb20gJ0BrZXBsZXIuZ2wvbG9jYWxpemF0aW9uJztcbmltcG9ydCB7UGFuZWxMYWJlbH0gZnJvbSAnLi4vLi4vY29tbW9uL3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCBGaWVsZFNlbGVjdG9yRmFjdG9yeSBmcm9tICcuLi8uLi9jb21tb24vZmllbGQtc2VsZWN0b3InO1xuaW1wb3J0IHt2YWxpZGF0ZUNvbHVtbn0gZnJvbSAnQGtlcGxlci5nbC9yZWR1Y2Vycyc7XG5pbXBvcnQge0xheWVyQ29sdW1uLCBMYXllckNvbHVtbnN9IGZyb20gJ0BrZXBsZXIuZ2wvbGF5ZXJzJztcbmltcG9ydCB7RmllbGQsIEZpZWxkUGFpcn0gZnJvbSAnQGtlcGxlci5nbC90eXBlcyc7XG5cbnR5cGUgUGFpciA9IHtcbiAgbmFtZTogc3RyaW5nO1xuICB0eXBlOiBzdHJpbmc7XG4gIHBhaXI6IEZpZWxkUGFpclsncGFpciddO1xufTtcblxudHlwZSBDb2x1bW5TZWxlY3RvclByb3BzID0ge1xuICBjb2x1bW46IExheWVyQ29sdW1uO1xuICBjb2x1bW5zOiBMYXllckNvbHVtbnM7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIGFsbEZpZWxkczogRmllbGRbXTtcbiAgb25TZWxlY3Q6IChcbiAgICBpdGVtczpcbiAgICAgIHwgUmVhZG9ubHlBcnJheTxzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgb2JqZWN0PlxuICAgICAgfCBzdHJpbmdcbiAgICAgIHwgbnVtYmVyXG4gICAgICB8IGJvb2xlYW5cbiAgICAgIHwgb2JqZWN0XG4gICAgICB8IG51bGxcbiAgKSA9PiB2b2lkO1xuICBmaWVsZFBhaXJzPzogUGFpcltdIHwgbnVsbDtcbn07XG5cbmNvbnN0IENvbHVtblJvdyA9IHN0eWxlZC5kaXZgXG4gIGRpc3BsYXk6IGZsZXg7XG4gIG1hcmdpbi1ib3R0b206IDhweDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbmA7XG5cbmNvbnN0IENvbHVtbk5hbWUgPSBzdHlsZWQuZGl2YFxuICB3aWR0aDogMjclO1xuICBsaW5lLWhlaWdodDogMS4yO1xuICBwYWRkaW5nLXJpZ2h0OiA2cHg7XG5gO1xuXG5jb25zdCBDb2x1bW5TZWxlY3QgPSBzdHlsZWQuZGl2YFxuICB3aWR0aDogNzMlO1xuYDtcblxuQ29sdW1uU2VsZWN0b3JGYWN0b3J5LmRlcHMgPSBbRmllbGRTZWxlY3RvckZhY3RvcnldO1xuXG5mdW5jdGlvbiBDb2x1bW5TZWxlY3RvckZhY3RvcnkoRmllbGRTZWxlY3RvcjogUmV0dXJuVHlwZTx0eXBlb2YgRmllbGRTZWxlY3RvckZhY3Rvcnk+KSB7XG4gIGNvbnN0IENvbHVtblNlbGVjdG9yOiBSZWFjdC5GQzxDb2x1bW5TZWxlY3RvclByb3BzPiA9ICh7XG4gICAgY29sdW1uLFxuICAgIGNvbHVtbnMsXG4gICAgbGFiZWwsXG4gICAgYWxsRmllbGRzLFxuICAgIG9uU2VsZWN0LFxuICAgIGZpZWxkUGFpcnNcbiAgfSkgPT4gKFxuICAgIDxDb2x1bW5Sb3cgY2xhc3NOYW1lPVwibGF5ZXItY29uZmlnX19jb2x1bW5fX3NlbGVjdG9yXCI+XG4gICAgICA8Q29sdW1uTmFtZSBjbGFzc05hbWU9XCJsYXllci1jb25maWdfX2NvbHVtbl9fbmFtZVwiPlxuICAgICAgICA8UGFuZWxMYWJlbD5cbiAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZSBpZD17YGNvbHVtbnMuJHtsYWJlbH1gfSAvPlxuICAgICAgICAgIHshY29sdW1uLm9wdGlvbmFsID8gYCAgKmAgOiBudWxsfVxuICAgICAgICA8L1BhbmVsTGFiZWw+XG4gICAgICA8L0NvbHVtbk5hbWU+XG4gICAgICA8Q29sdW1uU2VsZWN0IGNsYXNzTmFtZT1cImxheWVyLWNvbmZpZ19fY29sdW1uX19zZWxlY3RcIj5cbiAgICAgICAgPEZpZWxkU2VsZWN0b3JcbiAgICAgICAgICBzdWdnZXN0ZWQ9e2ZpZWxkUGFpcnN9XG4gICAgICAgICAgZXJyb3I9eyF2YWxpZGF0ZUNvbHVtbihjb2x1bW4sIGNvbHVtbnMsIGFsbEZpZWxkcyl9XG4gICAgICAgICAgZmllbGRzPXthbGxGaWVsZHN9XG4gICAgICAgICAgdmFsdWU9e2NvbHVtbi52YWx1ZX1cbiAgICAgICAgICBlcmFzYWJsZT17Qm9vbGVhbihjb2x1bW4ub3B0aW9uYWwpfVxuICAgICAgICAgIG9uU2VsZWN0PXtvblNlbGVjdH1cbiAgICAgICAgLz5cbiAgICAgIDwvQ29sdW1uU2VsZWN0PlxuICAgIDwvQ29sdW1uUm93PlxuICApO1xuICByZXR1cm4gQ29sdW1uU2VsZWN0b3I7XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbHVtblNlbGVjdG9yRmFjdG9yeTtcbiJdfQ==