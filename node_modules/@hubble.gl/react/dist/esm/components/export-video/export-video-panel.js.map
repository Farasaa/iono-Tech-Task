{"version":3,"sources":["../../../../src/components/export-video/export-video-panel.js"],"names":["React","styled","withTheme","DEFAULT_PADDING","DEFAULT_ICON_BUTTON_HEIGHT","DEFAULT_ROW_GAP","DEFAULT_SETTINGS_WIDTH","ExportVideoPanelSettings","ExportVideoPanelPreview","ExportVideoPanelFooter","WithKeplerUI","PanelCloseInner","div","PanelClose","handleClose","IconButton","Icons","StyledTitle","props","theme","titleTextColor","lineHeight","PanelBodyInner","exportVideoWidth","PanelBody","mapData","adapter","setViewState","setMediaType","setCameraPreset","setFileName","setResolution","settingsData","durationMs","frameRate","resolution","mediaType","viewState","setDuration","Panel","ExportVideoPanel","header","handlePreviewVideo","handleRenderVideo"],"mappings":"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","sourcesContent":["// Copyright (c) 2020 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport styled, {withTheme} from 'styled-components';\n\nimport {\n  DEFAULT_PADDING,\n  DEFAULT_ICON_BUTTON_HEIGHT,\n  DEFAULT_ROW_GAP,\n  DEFAULT_SETTINGS_WIDTH\n} from './constants';\nimport ExportVideoPanelSettings from './export-video-panel-settings';\nimport {ExportVideoPanelPreview} from './export-video-panel-preview'; // Not yet part of standard library. TODO when updated\nimport ExportVideoPanelFooter from './export-video-panel-footer';\n\nimport {WithKeplerUI} from '../inject-kepler';\n\nconst PanelCloseInner = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  padding: ${DEFAULT_PADDING}px ${DEFAULT_PADDING}px 0 ${DEFAULT_PADDING}px;\n`;\n\nconst PanelClose = ({handleClose}) => (\n  <WithKeplerUI>\n    {({IconButton, Icons}) => (\n      <PanelCloseInner className=\"export-video-panel__close\">\n        <IconButton className=\"export-video-panel__button\" link onClick={handleClose}>\n          <Icons.Delete height={DEFAULT_ICON_BUTTON_HEIGHT} />\n        </IconButton>\n      </PanelCloseInner>\n    )}\n  </WithKeplerUI>\n);\n\nconst StyledTitle = styled.div`\n  color: ${props => props.theme.titleTextColor};\n  font-size: 20px;\n  font-weight: 400;\n  line-height: ${props => props.theme.lineHeight};\n  padding: 0 ${DEFAULT_PADDING}px 16px ${DEFAULT_PADDING}px;\n`;\n\nconst PanelBodyInner = styled.div`\n  padding: 0 ${DEFAULT_PADDING}px;\n  display: grid;\n  grid-template-columns: ${props => props.exportVideoWidth}px ${DEFAULT_SETTINGS_WIDTH}px;\n  grid-template-rows: auto;\n  grid-column-gap: ${DEFAULT_ROW_GAP}px;\n`;\n\nconst PanelBody = ({\n  exportVideoWidth,\n  mapData,\n  adapter,\n  setViewState,\n  setMediaType,\n  setCameraPreset,\n  setFileName,\n  setResolution,\n  settingsData,\n  durationMs,\n  frameRate,\n  resolution,\n  mediaType,\n  viewState,\n  setDuration\n}) => (\n  <PanelBodyInner className=\"export-video-panel__body\" exportVideoWidth={exportVideoWidth}>\n    <ExportVideoPanelPreview\n      mapData={mapData}\n      adapter={adapter}\n      setViewState={setViewState}\n      exportVideoWidth={exportVideoWidth}\n      resolution={resolution}\n      viewState={viewState}\n    />\n    <ExportVideoPanelSettings\n      setMediaType={setMediaType}\n      setCameraPreset={setCameraPreset}\n      setFileName={setFileName}\n      setResolution={setResolution}\n      settingsData={settingsData}\n      durationMs={durationMs}\n      frameRate={frameRate}\n      resolution={resolution}\n      mediaType={mediaType}\n      setDuration={setDuration}\n    />\n    {/* TODO: inject additional keyframing tools here */}\n  </PanelBodyInner>\n);\n\nconst Panel = styled.div`\n  width: ${props =>\n    props.exportVideoWidth + 2 * DEFAULT_PADDING + DEFAULT_ROW_GAP + DEFAULT_SETTINGS_WIDTH}px;\n`;\n\nconst ExportVideoPanel = ({\n  // UI Props\n  exportVideoWidth,\n  handleClose,\n  header,\n  // Map Props\n  mapData,\n  setViewState,\n  // Settings Props\n  settingsData,\n  setMediaType,\n  setCameraPreset,\n  setFileName,\n  setResolution,\n  // Hubble Props\n  adapter,\n  handlePreviewVideo,\n  handleRenderVideo,\n  durationMs,\n  frameRate,\n  resolution,\n  mediaType,\n  viewState,\n  setDuration\n}) => {\n  return (\n    <Panel exportVideoWidth={exportVideoWidth} className=\"export-video-panel\">\n      {header !== false ? (\n        <>\n          <PanelClose handleClose={handleClose} />\n          <StyledTitle className=\"export-video-panel__title\">Export Video</StyledTitle>\n        </>\n      ) : null}\n      <PanelBody\n        exportVideoWidth={exportVideoWidth}\n        mapData={mapData}\n        adapter={adapter}\n        setMediaType={setMediaType}\n        setCameraPreset={setCameraPreset}\n        setFileName={setFileName}\n        setResolution={setResolution}\n        settingsData={settingsData}\n        setViewState={setViewState}\n        durationMs={durationMs}\n        frameRate={frameRate}\n        resolution={resolution}\n        mediaType={mediaType}\n        viewState={viewState}\n        setDuration={setDuration}\n      />\n      <ExportVideoPanelFooter\n        handleClose={handleClose}\n        handlePreviewVideo={handlePreviewVideo}\n        handleRenderVideo={handleRenderVideo}\n      />\n    </Panel>\n  );\n};\n\nexport default withTheme(ExportVideoPanel);\n"],"file":"export-video-panel.js"}