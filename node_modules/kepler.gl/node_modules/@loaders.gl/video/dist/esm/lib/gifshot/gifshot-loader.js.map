{"version":3,"sources":["../../../../src/lib/gifshot/gifshot-loader.js"],"names":["loadLibrary","global","loadGifshotPromise","loadGifshotModule","options","modules","gifshot","loadGifshot","libraryPath"],"mappings":";;AAAA,SAAQA,WAAR,EAAqBC,MAArB,QAAkC,0BAAlC;AAEA,IAAIC,kBAAJ;AAEA,gBAAsBC,iBAAtB;AAAA;AAAA;;;kEAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiCC,YAAAA,OAAjC,2DAA2C,EAA3C;AACCC,YAAAA,OADD,GACWD,OAAO,CAACC,OAAR,IAAmB,EAD9B;;AAAA,iBAEDA,OAAO,CAACC,OAFP;AAAA;AAAA;AAAA;;AAAA,6CAGID,OAAO,CAACC,OAHZ;;AAAA;AAKLJ,YAAAA,kBAAkB,GAAGA,kBAAkB,IAAIK,WAAW,CAACH,OAAD,CAAtD;AALK;AAAA,mBAMQF,kBANR;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SASQK,W;;;;;4DAAf,kBAA2BH,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AACEA,YAAAA,OAAO,CAACI,WAAR,GAAsBJ,OAAO,CAACI,WAAR,IAAuB,OAA7C;AADF;AAAA,mBAEwBR,WAAW,CAAC,YAAD,EAAe,SAAf,EAA0BI,OAA1B,CAFnC;;AAAA;AAEQE,YAAAA,OAFR;AAAA,8CAMSA,OAAO,IAAIL,MAAM,CAACK,OAN3B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import {loadLibrary, global} from '@loaders.gl/loader-utils';\n\nlet loadGifshotPromise;\n\nexport async function loadGifshotModule(options = {}) {\n  const modules = options.modules || {};\n  if (modules.gifshot) {\n    return modules.gifshot;\n  }\n  loadGifshotPromise = loadGifshotPromise || loadGifshot(options);\n  return await loadGifshotPromise;\n}\n\nasync function loadGifshot(options) {\n  options.libraryPath = options.libraryPath || 'libs/';\n  const gifshot = await loadLibrary('gifshot.js', 'gifshot', options);\n\n  // Depends on how import happened...\n  // @ts-ignore TS2339: Property does not exist on type\n  return gifshot || global.gifshot;\n}\n"],"file":"gifshot-loader.js"}