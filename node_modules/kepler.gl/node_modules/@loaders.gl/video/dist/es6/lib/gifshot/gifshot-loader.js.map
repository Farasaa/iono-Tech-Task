{"version":3,"sources":["../../../../src/lib/gifshot/gifshot-loader.js"],"names":["loadLibrary","global","loadGifshotPromise","loadGifshotModule","options","modules","gifshot","loadGifshot","libraryPath"],"mappings":"AAAA,SAAQA,WAAR,EAAqBC,MAArB,QAAkC,0BAAlC;AAEA,IAAIC,kBAAJ;AAEA,OAAO,eAAeC,iBAAf,CAAiCC,OAAO,GAAG,EAA3C,EAA+C;AACpD,QAAMC,OAAO,GAAGD,OAAO,CAACC,OAAR,IAAmB,EAAnC;;AACA,MAAIA,OAAO,CAACC,OAAZ,EAAqB;AACnB,WAAOD,OAAO,CAACC,OAAf;AACD;;AACDJ,EAAAA,kBAAkB,GAAGA,kBAAkB,IAAIK,WAAW,CAACH,OAAD,CAAtD;AACA,SAAO,MAAMF,kBAAb;AACD;;AAED,eAAeK,WAAf,CAA2BH,OAA3B,EAAoC;AAClCA,EAAAA,OAAO,CAACI,WAAR,GAAsBJ,OAAO,CAACI,WAAR,IAAuB,OAA7C;AACA,QAAMF,OAAO,GAAG,MAAMN,WAAW,CAAC,YAAD,EAAe,SAAf,EAA0BI,OAA1B,CAAjC;AAIA,SAAOE,OAAO,IAAIL,MAAM,CAACK,OAAzB;AACD","sourcesContent":["import {loadLibrary, global} from '@loaders.gl/loader-utils';\n\nlet loadGifshotPromise;\n\nexport async function loadGifshotModule(options = {}) {\n  const modules = options.modules || {};\n  if (modules.gifshot) {\n    return modules.gifshot;\n  }\n  loadGifshotPromise = loadGifshotPromise || loadGifshot(options);\n  return await loadGifshotPromise;\n}\n\nasync function loadGifshot(options) {\n  options.libraryPath = options.libraryPath || 'libs/';\n  const gifshot = await loadLibrary('gifshot.js', 'gifshot', options);\n\n  // Depends on how import happened...\n  // @ts-ignore TS2339: Property does not exist on type\n  return gifshot || global.gifshot;\n}\n"],"file":"gifshot-loader.js"}