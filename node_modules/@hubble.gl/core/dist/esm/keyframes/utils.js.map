{"version":3,"file":"utils.js","names":["interpolate","linear","sanitizeInterpolators","keyframes","interpolators","_interpolators","idx","length","push","Error","sanitizeEasings","easings","_easings","sanitizeTimings","timings","_timings","time","merge","_keyframes","map","keyframe","ease","undefined","factorInterpolator","start","end"],"sources":["../../../src/keyframes/utils.js"],"sourcesContent":["// Copyright (c) 2021 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport {interpolate, linear} from 'popmotion';\n\nexport function sanitizeInterpolators(keyframes, interpolators) {\n  let _interpolators = interpolators;\n  if (typeof interpolators === 'string') {\n    _interpolators = [];\n    for (let idx = 0; idx < keyframes.length - 1; idx++) {\n      _interpolators.push(interpolators);\n    }\n  }\n\n  if (keyframes.length - 1 !== _interpolators.length) {\n    throw new Error('There must be one fewer interpolator than keyframes');\n  }\n  return _interpolators;\n}\n\nexport function sanitizeEasings(keyframes, easings) {\n  let _easings = easings;\n  if (typeof easings === 'function') {\n    _easings = [];\n    for (let idx = 0; idx < keyframes.length - 1; idx++) {\n      _easings.push(easings);\n    }\n  }\n\n  if (keyframes.length - 1 !== _easings.length) {\n    throw new Error('There must be one fewer easing than keyframes');\n  }\n\n  return _easings;\n}\n\nexport function sanitizeTimings(keyframes, timings) {\n  let _timings = timings;\n  if (typeof timings === 'number') {\n    _timings = [];\n    let time = 0;\n    for (let idx = 0; idx < keyframes.length; idx++) {\n      _timings.push(time);\n      time += timings;\n    }\n  }\n  if (keyframes.length !== _timings.length) {\n    throw new Error('There must be same number of timings as keyframes');\n  }\n  return _timings;\n}\n\nexport function merge(timings, keyframes, easings, interpolators) {\n  const _keyframes = keyframes.map((keyframe, idx) => {\n    if (idx === 0) {\n      return [timings[idx], {...keyframe, ease: undefined, interpolate: undefined}];\n    }\n    return [\n      timings[idx],\n      {...keyframe, ease: easings[idx - 1], interpolate: interpolators[idx - 1]}\n    ];\n  });\n  return _keyframes;\n}\n\nexport function factorInterpolator(start, end, ease = linear) {\n  return interpolate([0, 1], [start, end], {ease});\n}\n"],"mappings":"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"}