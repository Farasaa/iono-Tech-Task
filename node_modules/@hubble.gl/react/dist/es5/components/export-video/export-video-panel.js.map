{"version":3,"sources":["../../../../src/components/export-video/export-video-panel.js"],"names":["PanelCloseInner","styled","div","DEFAULT_PADDING","PanelClose","handleClose","IconButton","Icons","DEFAULT_ICON_BUTTON_HEIGHT","StyledTitle","props","theme","titleTextColor","lineHeight","PanelBodyInner","exportVideoWidth","DEFAULT_SETTINGS_WIDTH","DEFAULT_ROW_GAP","PanelBody","mapData","adapter","setViewState","setMediaType","setCameraPreset","setFileName","setResolution","settingsData","durationMs","frameRate","resolution","mediaType","viewState","setDuration","Panel","ExportVideoPanel","header","handlePreviewVideo","handleRenderVideo"],"mappings":"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","sourcesContent":["// Copyright (c) 2020 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport styled, {withTheme} from 'styled-components';\n\nimport {\n  DEFAULT_PADDING,\n  DEFAULT_ICON_BUTTON_HEIGHT,\n  DEFAULT_ROW_GAP,\n  DEFAULT_SETTINGS_WIDTH\n} from './constants';\nimport ExportVideoPanelSettings from './export-video-panel-settings';\nimport {ExportVideoPanelPreview} from './export-video-panel-preview'; // Not yet part of standard library. TODO when updated\nimport ExportVideoPanelFooter from './export-video-panel-footer';\n\nimport {WithKeplerUI} from '../inject-kepler';\n\nconst PanelCloseInner = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  padding: ${DEFAULT_PADDING}px ${DEFAULT_PADDING}px 0 ${DEFAULT_PADDING}px;\n`;\n\nconst PanelClose = ({handleClose}) => (\n  <WithKeplerUI>\n    {({IconButton, Icons}) => (\n      <PanelCloseInner className=\"export-video-panel__close\">\n        <IconButton className=\"export-video-panel__button\" link onClick={handleClose}>\n          <Icons.Delete height={DEFAULT_ICON_BUTTON_HEIGHT} />\n        </IconButton>\n      </PanelCloseInner>\n    )}\n  </WithKeplerUI>\n);\n\nconst StyledTitle = styled.div`\n  color: ${props => props.theme.titleTextColor};\n  font-size: 20px;\n  font-weight: 400;\n  line-height: ${props => props.theme.lineHeight};\n  padding: 0 ${DEFAULT_PADDING}px 16px ${DEFAULT_PADDING}px;\n`;\n\nconst PanelBodyInner = styled.div`\n  padding: 0 ${DEFAULT_PADDING}px;\n  display: grid;\n  grid-template-columns: ${props => props.exportVideoWidth}px ${DEFAULT_SETTINGS_WIDTH}px;\n  grid-template-rows: auto;\n  grid-column-gap: ${DEFAULT_ROW_GAP}px;\n`;\n\nconst PanelBody = ({\n  exportVideoWidth,\n  mapData,\n  adapter,\n  setViewState,\n  setMediaType,\n  setCameraPreset,\n  setFileName,\n  setResolution,\n  settingsData,\n  durationMs,\n  frameRate,\n  resolution,\n  mediaType,\n  viewState,\n  setDuration\n}) => (\n  <PanelBodyInner className=\"export-video-panel__body\" exportVideoWidth={exportVideoWidth}>\n    <ExportVideoPanelPreview\n      mapData={mapData}\n      adapter={adapter}\n      setViewState={setViewState}\n      exportVideoWidth={exportVideoWidth}\n      resolution={resolution}\n      viewState={viewState}\n    />\n    <ExportVideoPanelSettings\n      setMediaType={setMediaType}\n      setCameraPreset={setCameraPreset}\n      setFileName={setFileName}\n      setResolution={setResolution}\n      settingsData={settingsData}\n      durationMs={durationMs}\n      frameRate={frameRate}\n      resolution={resolution}\n      mediaType={mediaType}\n      setDuration={setDuration}\n    />\n    {/* TODO: inject additional keyframing tools here */}\n  </PanelBodyInner>\n);\n\nconst Panel = styled.div`\n  width: ${props =>\n    props.exportVideoWidth + 2 * DEFAULT_PADDING + DEFAULT_ROW_GAP + DEFAULT_SETTINGS_WIDTH}px;\n`;\n\nconst ExportVideoPanel = ({\n  // UI Props\n  exportVideoWidth,\n  handleClose,\n  header,\n  // Map Props\n  mapData,\n  setViewState,\n  // Settings Props\n  settingsData,\n  setMediaType,\n  setCameraPreset,\n  setFileName,\n  setResolution,\n  // Hubble Props\n  adapter,\n  handlePreviewVideo,\n  handleRenderVideo,\n  durationMs,\n  frameRate,\n  resolution,\n  mediaType,\n  viewState,\n  setDuration\n}) => {\n  return (\n    <Panel exportVideoWidth={exportVideoWidth} className=\"export-video-panel\">\n      {header !== false ? (\n        <>\n          <PanelClose handleClose={handleClose} />\n          <StyledTitle className=\"export-video-panel__title\">Export Video</StyledTitle>\n        </>\n      ) : null}\n      <PanelBody\n        exportVideoWidth={exportVideoWidth}\n        mapData={mapData}\n        adapter={adapter}\n        setMediaType={setMediaType}\n        setCameraPreset={setCameraPreset}\n        setFileName={setFileName}\n        setResolution={setResolution}\n        settingsData={settingsData}\n        setViewState={setViewState}\n        durationMs={durationMs}\n        frameRate={frameRate}\n        resolution={resolution}\n        mediaType={mediaType}\n        viewState={viewState}\n        setDuration={setDuration}\n      />\n      <ExportVideoPanelFooter\n        handleClose={handleClose}\n        handlePreviewVideo={handlePreviewVideo}\n        handleRenderVideo={handleRenderVideo}\n      />\n    </Panel>\n  );\n};\n\nexport default withTheme(ExportVideoPanel);\n"],"file":"export-video-panel.js"}