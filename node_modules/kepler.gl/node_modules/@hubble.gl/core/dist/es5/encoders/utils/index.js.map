{"version":3,"sources":["../../../../src/encoders/utils/index.js"],"names":["pad","n","String","slice","canvasToArrayBuffer","canvas","type","quality","undefined","base64","toDataURL","fetch","response","arrayBuffer","checkIfBlank","b64","length","console","warn"],"mappings":";;;;;;;;;;;;;;;AA0BO,SAASA,GAAT,CAAaC,CAAb,EAAgB;AACrB,SAAOC,MAAM,kBAAWD,CAAX,EAAN,CAAsBE,KAAtB,CAA4B,CAAC,CAA7B,CAAP;AACD;;SAOqBC,mB;;;;;yFAAf,iBAAmCC,MAAnC,EAA2CC,IAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiDC,YAAAA,OAAjD,2DAA2DC,SAA3D;AACCC,YAAAA,MADD,GACUJ,MAAM,CAACK,SAAP,CAAiBJ,IAAjB,EAAuBC,OAAvB,CADV;AAAA;AAAA,mBAEkBI,KAAK,CAACF,MAAD,CAFvB;;AAAA;AAECG,YAAAA,QAFD;AAAA;AAAA,mBAGQA,QAAQ,CAACC,WAAT,EAHR;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AASA,SAASC,YAAT,CAAsBC,GAAtB,EAA2B;AAChC,MAAIA,GAAG,CAACC,MAAJ,GAAa,MAAjB,EAAyB;AACvBC,IAAAA,OAAO,CAACC,IAAR,CAAa,uBAAb,EAAsCH,GAAtC,EAA2CA,GAAG,CAACC,MAA/C;AACA,WAAO,IAAP;AACD;;AACD,SAAO,KAAP;AACD","sourcesContent":["// Copyright (c) 2020 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/* eslint-disable no-console */\n/* global console */\n\n/**\n * @param {number} n\n */\nexport function pad(n) {\n  return String(`0000000${n}`).slice(-7);\n}\n\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {string} type\n * @param {number} quality\n */\nexport async function canvasToArrayBuffer(canvas, type, quality = undefined) {\n  const base64 = canvas.toDataURL(type, quality);\n  const response = await fetch(base64);\n  return await response.arrayBuffer();\n}\n\n/**\n * @param {string} b64\n */\nexport function checkIfBlank(b64) {\n  if (b64.length < 100000) {\n    console.warn('Possibly blank image!', b64, b64.length);\n    return true;\n  }\n  return false;\n}\n"],"file":"index.js"}