{"version":3,"file":"animation-manager.js","names":["Timeline","AnimationManager","constructor","timeline","undefined","animations","animation","attachAnimation","attachKeyframes","id","setKeyframes","animationId","params","getKeyframes","getAnimation","draw","Object","values","forEach"],"sources":["../../../src/animations/animation-manager.js"],"sourcesContent":["// Copyright (c) 2021 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport {Timeline} from '@luma.gl/engine';\n\nexport default class AnimationManager {\n  timeline;\n  animations = {};\n\n  /**\n   * @param {Object} params\n   * @param {any} params.timeline\n   * @param {any[]} params.animations\n   */\n  constructor({timeline = undefined, animations = []}) {\n    this.timeline = timeline || new Timeline();\n    for (const animation of animations) {\n      this.attachAnimation(animation);\n    }\n  }\n\n  attachAnimation(animation) {\n    animation.attachKeyframes(this.timeline);\n    this.animations[animation.id] = animation;\n  }\n\n  setKeyframes(animationId, params) {\n    this.animations[animationId].setKeyframes({\n      timeline: this.timeline,\n      ...params\n    });\n  }\n\n  getKeyframes(animationId) {\n    return this.animations[animationId].getKeyframes();\n  }\n\n  getAnimation(animationId) {\n    return this.animations[animationId];\n  }\n\n  draw() {\n    Object.values(this.animations).forEach(animation => animation.draw());\n  }\n}\n"],"mappings":";AAmBA,SAAQA,QAAR,QAAuB,iBAAvB;AAEA,eAAe,MAAMC,gBAAN,CAAuB;EASpCC,WAAW,OAA0C;IAAA,IAAzC;MAACC,QAAQ,GAAGC,SAAZ;MAAuBC,UAAU,GAAG;IAApC,CAAyC;;IAAA;;IAAA,oCAPxC,EAOwC;;IACnD,KAAKF,QAAL,GAAgBA,QAAQ,IAAI,IAAIH,QAAJ,EAA5B;;IACA,KAAK,MAAMM,SAAX,IAAwBD,UAAxB,EAAoC;MAClC,KAAKE,eAAL,CAAqBD,SAArB;IACD;EACF;;EAEDC,eAAe,CAACD,SAAD,EAAY;IACzBA,SAAS,CAACE,eAAV,CAA0B,KAAKL,QAA/B;IACA,KAAKE,UAAL,CAAgBC,SAAS,CAACG,EAA1B,IAAgCH,SAAhC;EACD;;EAEDI,YAAY,CAACC,WAAD,EAAcC,MAAd,EAAsB;IAChC,KAAKP,UAAL,CAAgBM,WAAhB,EAA6BD,YAA7B,CAA0C;MACxCP,QAAQ,EAAE,KAAKA,QADyB;MAExC,GAAGS;IAFqC,CAA1C;EAID;;EAEDC,YAAY,CAACF,WAAD,EAAc;IACxB,OAAO,KAAKN,UAAL,CAAgBM,WAAhB,EAA6BE,YAA7B,EAAP;EACD;;EAEDC,YAAY,CAACH,WAAD,EAAc;IACxB,OAAO,KAAKN,UAAL,CAAgBM,WAAhB,CAAP;EACD;;EAEDI,IAAI,GAAG;IACLC,MAAM,CAACC,MAAP,CAAc,KAAKZ,UAAnB,EAA+Ba,OAA/B,CAAuCZ,SAAS,IAAIA,SAAS,CAACS,IAAV,EAApD;EACD;;AAtCmC"}