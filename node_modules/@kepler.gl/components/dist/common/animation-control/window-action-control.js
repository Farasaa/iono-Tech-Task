"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = _interopRequireWildcard(require("react"));

var _classnames = _interopRequireDefault(require("classnames"));

var _localization = require("@kepler.gl/localization");

var _styledComponents = require("../styled-components");

var _iconButton = _interopRequireDefault(require("../icon-button"));

// SPDX-License-Identifier: MIT
// Copyright contributors to the kepler.gl project
var DELAY_SHOW = 500;

function WindowActionControlFactory() {
  var WindowActionComponent = function WindowActionComponent(_ref) {
    var toggleAnimationWindowControl = _ref.toggleAnimationWindowControl,
        showAnimationWindowControl = _ref.showAnimationWindowControl,
        btnStyle = _ref.btnStyle,
        animationItems = _ref.animationItems,
        animationWindow = _ref.animationWindow,
        buttonHeight = _ref.buttonHeight,
        setFilterAnimationWindow = _ref.setFilterAnimationWindow;
    var icon = (0, _react.useMemo)(function () {
      if (animationItems[animationWindow]) {
        var WindowIcon = animationItems[animationWindow].icon;
        return /*#__PURE__*/_react["default"].createElement(WindowIcon, {
          height: buttonHeight
        });
      }

      return null;
    }, [animationItems, animationWindow, buttonHeight]);
    return setFilterAnimationWindow ? /*#__PURE__*/_react["default"].createElement(_iconButton["default"], (0, _extends2["default"])({
      "data-tip": true,
      "data-for": "animate-window",
      className: (0, _classnames["default"])('playback-control-button', {
        active: showAnimationWindowControl
      }),
      onClick: toggleAnimationWindowControl
    }, btnStyle), icon, animationItems[animationWindow] && animationItems[animationWindow].tooltip ? /*#__PURE__*/_react["default"].createElement(_styledComponents.Tooltip, {
      id: "animate-window",
      place: "top",
      delayShow: DELAY_SHOW,
      effect: "solid"
    }, /*#__PURE__*/_react["default"].createElement(_localization.FormattedMessage, {
      id: animationItems[animationWindow].tooltip
    })) : null) : null;
  };

  return WindowActionComponent;
}

var _default = WindowActionControlFactory;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tb24vYW5pbWF0aW9uLWNvbnRyb2wvd2luZG93LWFjdGlvbi1jb250cm9sLnRzeCJdLCJuYW1lcyI6WyJERUxBWV9TSE9XIiwiV2luZG93QWN0aW9uQ29udHJvbEZhY3RvcnkiLCJXaW5kb3dBY3Rpb25Db21wb25lbnQiLCJ0b2dnbGVBbmltYXRpb25XaW5kb3dDb250cm9sIiwic2hvd0FuaW1hdGlvbldpbmRvd0NvbnRyb2wiLCJidG5TdHlsZSIsImFuaW1hdGlvbkl0ZW1zIiwiYW5pbWF0aW9uV2luZG93IiwiYnV0dG9uSGVpZ2h0Iiwic2V0RmlsdGVyQW5pbWF0aW9uV2luZG93IiwiaWNvbiIsIldpbmRvd0ljb24iLCJhY3RpdmUiLCJ0b29sdGlwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBR0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBUEE7QUFDQTtBQVFBLElBQU1BLFVBQVUsR0FBRyxHQUFuQjs7QUFDQSxTQUFTQywwQkFBVCxHQUFzQztBQUNwQyxNQUFNQyxxQkFBcUIsR0FBRyxTQUF4QkEscUJBQXdCLE9BUXhCO0FBQUEsUUFQSkMsNEJBT0ksUUFQSkEsNEJBT0k7QUFBQSxRQU5KQywwQkFNSSxRQU5KQSwwQkFNSTtBQUFBLFFBTEpDLFFBS0ksUUFMSkEsUUFLSTtBQUFBLFFBSkpDLGNBSUksUUFKSkEsY0FJSTtBQUFBLFFBSEpDLGVBR0ksUUFISkEsZUFHSTtBQUFBLFFBRkpDLFlBRUksUUFGSkEsWUFFSTtBQUFBLFFBREpDLHdCQUNJLFFBREpBLHdCQUNJO0FBQ0osUUFBTUMsSUFBSSxHQUFHLG9CQUFRLFlBQU07QUFDekIsVUFBSUosY0FBYyxDQUFDQyxlQUFELENBQWxCLEVBQXFDO0FBQ25DLFlBQU1JLFVBQVUsR0FBR0wsY0FBYyxDQUFDQyxlQUFELENBQWQsQ0FBZ0NHLElBQW5EO0FBQ0EsNEJBQU8sZ0NBQUMsVUFBRDtBQUFZLFVBQUEsTUFBTSxFQUFFRjtBQUFwQixVQUFQO0FBQ0Q7O0FBQ0QsYUFBTyxJQUFQO0FBQ0QsS0FOWSxFQU1WLENBQUNGLGNBQUQsRUFBaUJDLGVBQWpCLEVBQWtDQyxZQUFsQyxDQU5VLENBQWI7QUFRQSxXQUFPQyx3QkFBd0IsZ0JBQzdCLGdDQUFDLHNCQUFEO0FBQ0Usc0JBREY7QUFFRSxrQkFBUyxnQkFGWDtBQUdFLE1BQUEsU0FBUyxFQUFFLDRCQUFXLHlCQUFYLEVBQXNDO0FBQUNHLFFBQUFBLE1BQU0sRUFBRVI7QUFBVCxPQUF0QyxDQUhiO0FBSUUsTUFBQSxPQUFPLEVBQUVEO0FBSlgsT0FLTUUsUUFMTixHQU9HSyxJQVBILEVBUUdKLGNBQWMsQ0FBQ0MsZUFBRCxDQUFkLElBQW1DRCxjQUFjLENBQUNDLGVBQUQsQ0FBZCxDQUFnQ00sT0FBbkUsZ0JBQ0MsZ0NBQUMseUJBQUQ7QUFBUyxNQUFBLEVBQUUsRUFBQyxnQkFBWjtBQUE2QixNQUFBLEtBQUssRUFBQyxLQUFuQztBQUF5QyxNQUFBLFNBQVMsRUFBRWIsVUFBcEQ7QUFBZ0UsTUFBQSxNQUFNLEVBQUM7QUFBdkUsb0JBQ0UsZ0NBQUMsOEJBQUQ7QUFBa0IsTUFBQSxFQUFFLEVBQUVNLGNBQWMsQ0FBQ0MsZUFBRCxDQUFkLENBQWdDTTtBQUF0RCxNQURGLENBREQsR0FJRyxJQVpOLENBRDZCLEdBZTNCLElBZko7QUFnQkQsR0FqQ0Q7O0FBbUNBLFNBQU9YLHFCQUFQO0FBQ0Q7O2VBRWNELDBCIiwic291cmNlc0NvbnRlbnQiOlsiLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IGNvbnRyaWJ1dG9ycyB0byB0aGUga2VwbGVyLmdsIHByb2plY3RcblxuaW1wb3J0IFJlYWN0LCB7dXNlTWVtb30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQge0Zvcm1hdHRlZE1lc3NhZ2V9IGZyb20gJ0BrZXBsZXIuZ2wvbG9jYWxpemF0aW9uJztcbmltcG9ydCB7VG9vbHRpcH0gZnJvbSAnLi4vc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IEljb25CdXR0b24gZnJvbSAnLi4vaWNvbi1idXR0b24nO1xuXG5jb25zdCBERUxBWV9TSE9XID0gNTAwO1xuZnVuY3Rpb24gV2luZG93QWN0aW9uQ29udHJvbEZhY3RvcnkoKSB7XG4gIGNvbnN0IFdpbmRvd0FjdGlvbkNvbXBvbmVudCA9ICh7XG4gICAgdG9nZ2xlQW5pbWF0aW9uV2luZG93Q29udHJvbCxcbiAgICBzaG93QW5pbWF0aW9uV2luZG93Q29udHJvbCxcbiAgICBidG5TdHlsZSxcbiAgICBhbmltYXRpb25JdGVtcyxcbiAgICBhbmltYXRpb25XaW5kb3csXG4gICAgYnV0dG9uSGVpZ2h0LFxuICAgIHNldEZpbHRlckFuaW1hdGlvbldpbmRvd1xuICB9KSA9PiB7XG4gICAgY29uc3QgaWNvbiA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgaWYgKGFuaW1hdGlvbkl0ZW1zW2FuaW1hdGlvbldpbmRvd10pIHtcbiAgICAgICAgY29uc3QgV2luZG93SWNvbiA9IGFuaW1hdGlvbkl0ZW1zW2FuaW1hdGlvbldpbmRvd10uaWNvbjtcbiAgICAgICAgcmV0dXJuIDxXaW5kb3dJY29uIGhlaWdodD17YnV0dG9uSGVpZ2h0fSAvPjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sIFthbmltYXRpb25JdGVtcywgYW5pbWF0aW9uV2luZG93LCBidXR0b25IZWlnaHRdKTtcblxuICAgIHJldHVybiBzZXRGaWx0ZXJBbmltYXRpb25XaW5kb3cgPyAoXG4gICAgICA8SWNvbkJ1dHRvblxuICAgICAgICBkYXRhLXRpcFxuICAgICAgICBkYXRhLWZvcj1cImFuaW1hdGUtd2luZG93XCJcbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCdwbGF5YmFjay1jb250cm9sLWJ1dHRvbicsIHthY3RpdmU6IHNob3dBbmltYXRpb25XaW5kb3dDb250cm9sfSl9XG4gICAgICAgIG9uQ2xpY2s9e3RvZ2dsZUFuaW1hdGlvbldpbmRvd0NvbnRyb2x9XG4gICAgICAgIHsuLi5idG5TdHlsZX1cbiAgICAgID5cbiAgICAgICAge2ljb259XG4gICAgICAgIHthbmltYXRpb25JdGVtc1thbmltYXRpb25XaW5kb3ddICYmIGFuaW1hdGlvbkl0ZW1zW2FuaW1hdGlvbldpbmRvd10udG9vbHRpcCA/IChcbiAgICAgICAgICA8VG9vbHRpcCBpZD1cImFuaW1hdGUtd2luZG93XCIgcGxhY2U9XCJ0b3BcIiBkZWxheVNob3c9e0RFTEFZX1NIT1d9IGVmZmVjdD1cInNvbGlkXCI+XG4gICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZSBpZD17YW5pbWF0aW9uSXRlbXNbYW5pbWF0aW9uV2luZG93XS50b29sdGlwfSAvPlxuICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgKSA6IG51bGx9XG4gICAgICA8L0ljb25CdXR0b24+XG4gICAgKSA6IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIFdpbmRvd0FjdGlvbkNvbXBvbmVudDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgV2luZG93QWN0aW9uQ29udHJvbEZhY3Rvcnk7XG4iXX0=