"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.StyledToggleOption = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _react = _interopRequireWildcard(require("react"));

var _styledComponents = _interopRequireDefault(require("styled-components"));

var _orderByList = _interopRequireDefault(require("../common/icons/order-by-list"));

var _orderByDataset = _interopRequireDefault(require("../common/icons/order-by-dataset"));

var _styledComponents2 = require("../common/styled-components");

var _localization = require("@kepler.gl/localization");

var _constants = require("@kepler.gl/constants");

var _templateObject, _templateObject2, _templateObject3;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var PanelViewListToggleContainer = _styledComponents["default"].div.attrs({
  className: 'panel-view-list-toggle'
})(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])([""])));

var PanelViewListToggleWrapper = _styledComponents["default"].div.attrs({
  className: 'panel-view-list-toggle-inner'
})(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n  display: flex;\n  justify-content: flex-end;\n  align-content: center;\n  gap: 10px;\n"])));

var StyledToggleOption = _styledComponents["default"].div.attrs({
  className: 'layer-panel-toggle-option'
})(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n  color: ", ";\n  :hover {\n    cursor: pointer;\n    color: ", ";\n  }\n"])), function (props) {
  return props.active ? props.theme.subtextColorActive : props.theme.panelTabColor;
}, function (props) {
  return props.theme.subtextColorActive;
});

exports.StyledToggleOption = StyledToggleOption;

function ToggleOptionFactory() {
  var ToggleOption = function ToggleOption(_ref) {
    var isActive = _ref.isActive,
        onClick = _ref.onClick,
        option = _ref.option;
    return /*#__PURE__*/_react["default"].createElement(StyledToggleOption, {
      "data-tip": true,
      "data-for": "".concat(option.id, "-toggle-option"),
      active: isActive,
      onClick: onClick
    }, /*#__PURE__*/_react["default"].createElement(option.iconComponent, {
      height: "20px"
    }), /*#__PURE__*/_react["default"].createElement(_styledComponents2.Tooltip, {
      id: "".concat(option.id, "-toggle-option"),
      effect: "solid",
      delayShow: 500,
      place: "bottom"
    }, /*#__PURE__*/_react["default"].createElement("span", null, /*#__PURE__*/_react["default"].createElement(_localization.FormattedMessage, {
      id: option.label
    }))));
  };

  return ToggleOption;
}

var TOGGLE_OPTIONS = [{
  id: _constants.PANEL_VIEW_TOGGLES.list,
  iconComponent: _orderByList["default"],
  label: 'sidebar.panelViewToggle.list'
}, {
  id: _constants.PANEL_VIEW_TOGGLES.byDataset,
  iconComponent: _orderByDataset["default"],
  label: 'sidebar.panelViewToggle.byDataset'
}];
PanelViewListToggleFactory.deps = [ToggleOptionFactory];

function PanelViewListToggleFactory(ToggleOption) {
  var PanelViewListToggle = function PanelViewListToggle(_ref2) {
    var mode = _ref2.mode,
        togglePanelListView = _ref2.togglePanelListView;

    var toggleListView = function toggleListView(listView) {
      return togglePanelListView(listView);
    };

    var options = (0, _react.useMemo)(function () {
      return TOGGLE_OPTIONS.map(function (opt) {
        return _objectSpread(_objectSpread({}, opt), {}, {
          isActive: mode === opt.id
        });
      });
    }, [mode]);
    return /*#__PURE__*/_react["default"].createElement(PanelViewListToggleContainer, null, /*#__PURE__*/_react["default"].createElement(PanelViewListToggleWrapper, null, options.map(function (opt) {
      return /*#__PURE__*/_react["default"].createElement(ToggleOption, {
        key: opt.id,
        onClick: function onClick() {
          return toggleListView(opt.id);
        },
        option: opt,
        isActive: opt.isActive
      });
    })));
  };

  return PanelViewListToggle;
}

var _default = PanelViewListToggleFactory;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zaWRlLXBhbmVsL3BhbmVsLXZpZXctbGlzdC10b2dnbGUudHN4Il0sIm5hbWVzIjpbIlBhbmVsVmlld0xpc3RUb2dnbGVDb250YWluZXIiLCJzdHlsZWQiLCJkaXYiLCJhdHRycyIsImNsYXNzTmFtZSIsIlBhbmVsVmlld0xpc3RUb2dnbGVXcmFwcGVyIiwiU3R5bGVkVG9nZ2xlT3B0aW9uIiwicHJvcHMiLCJhY3RpdmUiLCJ0aGVtZSIsInN1YnRleHRDb2xvckFjdGl2ZSIsInBhbmVsVGFiQ29sb3IiLCJUb2dnbGVPcHRpb25GYWN0b3J5IiwiVG9nZ2xlT3B0aW9uIiwiaXNBY3RpdmUiLCJvbkNsaWNrIiwib3B0aW9uIiwiaWQiLCJsYWJlbCIsIlRPR0dMRV9PUFRJT05TIiwiUEFORUxfVklFV19UT0dHTEVTIiwibGlzdCIsImljb25Db21wb25lbnQiLCJPcmRlckJ5TGlzdCIsImJ5RGF0YXNldCIsIk9yZGVyQnlEYXRhc2V0IiwiUGFuZWxWaWV3TGlzdFRvZ2dsZUZhY3RvcnkiLCJkZXBzIiwiUGFuZWxWaWV3TGlzdFRvZ2dsZSIsIm1vZGUiLCJ0b2dnbGVQYW5lbExpc3RWaWV3IiwidG9nZ2xlTGlzdFZpZXciLCJsaXN0VmlldyIsIm9wdGlvbnMiLCJtYXAiLCJvcHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUdBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOzs7Ozs7OztBQWFBLElBQU1BLDRCQUE0QixHQUFHQyw2QkFBT0MsR0FBUCxDQUFXQyxLQUFYLENBQWlCO0FBQ3BEQyxFQUFBQSxTQUFTLEVBQUU7QUFEeUMsQ0FBakIsQ0FBSCxzRkFBbEM7O0FBSUEsSUFBTUMsMEJBQTBCLEdBQUdKLDZCQUFPQyxHQUFQLENBQVdDLEtBQVgsQ0FBaUI7QUFDbERDLEVBQUFBLFNBQVMsRUFBRTtBQUR1QyxDQUFqQixDQUFILGtMQUFoQzs7QUFTTyxJQUFNRSxrQkFBa0IsR0FBR0wsNkJBQU9DLEdBQVAsQ0FBV0MsS0FBWCxDQUFpQjtBQUNqREMsRUFBQUEsU0FBUyxFQUFFO0FBRHNDLENBQWpCLENBQUgsb0tBR3BCLFVBQUFHLEtBQUs7QUFBQSxTQUFLQSxLQUFLLENBQUNDLE1BQU4sR0FBZUQsS0FBSyxDQUFDRSxLQUFOLENBQVlDLGtCQUEzQixHQUFnREgsS0FBSyxDQUFDRSxLQUFOLENBQVlFLGFBQWpFO0FBQUEsQ0FIZSxFQU1sQixVQUFBSixLQUFLO0FBQUEsU0FBSUEsS0FBSyxDQUFDRSxLQUFOLENBQVlDLGtCQUFoQjtBQUFBLENBTmEsQ0FBeEI7Ozs7QUFVUCxTQUFTRSxtQkFBVCxHQUErQjtBQUM3QixNQUFNQyxZQUF5QyxHQUFHLFNBQTVDQSxZQUE0QztBQUFBLFFBQUVDLFFBQUYsUUFBRUEsUUFBRjtBQUFBLFFBQVlDLE9BQVosUUFBWUEsT0FBWjtBQUFBLFFBQXFCQyxNQUFyQixRQUFxQkEsTUFBckI7QUFBQSx3QkFDaEQsZ0NBQUMsa0JBQUQ7QUFDRSxzQkFERjtBQUVFLDRCQUFhQSxNQUFNLENBQUNDLEVBQXBCLG1CQUZGO0FBR0UsTUFBQSxNQUFNLEVBQUVILFFBSFY7QUFJRSxNQUFBLE9BQU8sRUFBRUM7QUFKWCxvQkFNRSxnQ0FBQyxNQUFELENBQVEsYUFBUjtBQUFzQixNQUFBLE1BQU0sRUFBQztBQUE3QixNQU5GLGVBT0UsZ0NBQUMsMEJBQUQ7QUFBUyxNQUFBLEVBQUUsWUFBS0MsTUFBTSxDQUFDQyxFQUFaLG1CQUFYO0FBQTJDLE1BQUEsTUFBTSxFQUFDLE9BQWxEO0FBQTBELE1BQUEsU0FBUyxFQUFFLEdBQXJFO0FBQTBFLE1BQUEsS0FBSyxFQUFDO0FBQWhGLG9CQUNFLDJEQUNFLGdDQUFDLDhCQUFEO0FBQWtCLE1BQUEsRUFBRSxFQUFFRCxNQUFNLENBQUNFO0FBQTdCLE1BREYsQ0FERixDQVBGLENBRGdEO0FBQUEsR0FBbEQ7O0FBZ0JBLFNBQU9MLFlBQVA7QUFDRDs7QUFFRCxJQUFNTSxjQUFjLEdBQUcsQ0FDckI7QUFDRUYsRUFBQUEsRUFBRSxFQUFFRyw4QkFBbUJDLElBRHpCO0FBRUVDLEVBQUFBLGFBQWEsRUFBRUMsdUJBRmpCO0FBR0VMLEVBQUFBLEtBQUssRUFBRTtBQUhULENBRHFCLEVBTXJCO0FBQ0VELEVBQUFBLEVBQUUsRUFBRUcsOEJBQW1CSSxTQUR6QjtBQUVFRixFQUFBQSxhQUFhLEVBQUVHLDBCQUZqQjtBQUdFUCxFQUFBQSxLQUFLLEVBQUU7QUFIVCxDQU5xQixDQUF2QjtBQWFBUSwwQkFBMEIsQ0FBQ0MsSUFBM0IsR0FBa0MsQ0FBQ2YsbUJBQUQsQ0FBbEM7O0FBRUEsU0FBU2MsMEJBQVQsQ0FBb0NiLFlBQXBDLEVBQTBGO0FBQ3hGLE1BQU1lLG1CQUF1RCxHQUFHLFNBQTFEQSxtQkFBMEQsUUFBaUM7QUFBQSxRQUEvQkMsSUFBK0IsU0FBL0JBLElBQStCO0FBQUEsUUFBekJDLG1CQUF5QixTQUF6QkEsbUJBQXlCOztBQUMvRixRQUFNQyxjQUFjLEdBQUcsU0FBakJBLGNBQWlCLENBQUFDLFFBQVE7QUFBQSxhQUFJRixtQkFBbUIsQ0FBQ0UsUUFBRCxDQUF2QjtBQUFBLEtBQS9COztBQUVBLFFBQU1DLE9BQU8sR0FBRyxvQkFDZDtBQUFBLGFBQU1kLGNBQWMsQ0FBQ2UsR0FBZixDQUFtQixVQUFBQyxHQUFHO0FBQUEsK0NBQVNBLEdBQVQ7QUFBY3JCLFVBQUFBLFFBQVEsRUFBRWUsSUFBSSxLQUFLTSxHQUFHLENBQUNsQjtBQUFyQztBQUFBLE9BQXRCLENBQU47QUFBQSxLQURjLEVBRWQsQ0FBQ1ksSUFBRCxDQUZjLENBQWhCO0FBS0Esd0JBQ0UsZ0NBQUMsNEJBQUQscUJBQ0UsZ0NBQUMsMEJBQUQsUUFDR0ksT0FBTyxDQUFDQyxHQUFSLENBQVksVUFBQUMsR0FBRztBQUFBLDBCQUNkLGdDQUFDLFlBQUQ7QUFDRSxRQUFBLEdBQUcsRUFBRUEsR0FBRyxDQUFDbEIsRUFEWDtBQUVFLFFBQUEsT0FBTyxFQUFFO0FBQUEsaUJBQU1jLGNBQWMsQ0FBQ0ksR0FBRyxDQUFDbEIsRUFBTCxDQUFwQjtBQUFBLFNBRlg7QUFHRSxRQUFBLE1BQU0sRUFBRWtCLEdBSFY7QUFJRSxRQUFBLFFBQVEsRUFBRUEsR0FBRyxDQUFDckI7QUFKaEIsUUFEYztBQUFBLEtBQWYsQ0FESCxDQURGLENBREY7QUFjRCxHQXRCRDs7QUF3QkEsU0FBT2MsbUJBQVA7QUFDRDs7ZUFFY0YsMEIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgY29udHJpYnV0b3JzIHRvIHRoZSBrZXBsZXIuZ2wgcHJvamVjdFxuXG5pbXBvcnQgUmVhY3QsIHt1c2VNZW1vfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCBPcmRlckJ5TGlzdCBmcm9tICcuLi9jb21tb24vaWNvbnMvb3JkZXItYnktbGlzdCc7XG5pbXBvcnQgT3JkZXJCeURhdGFzZXQgZnJvbSAnLi4vY29tbW9uL2ljb25zL29yZGVyLWJ5LWRhdGFzZXQnO1xuaW1wb3J0IHtUb29sdGlwfSBmcm9tICcuLi9jb21tb24vc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHtGb3JtYXR0ZWRNZXNzYWdlfSBmcm9tICdAa2VwbGVyLmdsL2xvY2FsaXphdGlvbic7XG5pbXBvcnQge1BhbmVsTGlzdFZpZXd9IGZyb20gJ0BrZXBsZXIuZ2wvdHlwZXMnO1xuaW1wb3J0IHtQQU5FTF9WSUVXX1RPR0dMRVN9IGZyb20gJ0BrZXBsZXIuZ2wvY29uc3RhbnRzJztcblxudHlwZSBUb2dnbGVPcHRpb25Qcm9wcyA9IHtcbiAgaXNBY3RpdmU6IGJvb2xlYW47XG4gIG9uQ2xpY2s6ICgpID0+IHZvaWQ7XG4gIG9wdGlvbjogdHlwZW9mIFRPR0dMRV9PUFRJT05TWzBdO1xufTtcblxudHlwZSBQYW5lbFZpZXdMaXN0VG9nZ2xlUHJvcHMgPSB7XG4gIG1vZGU6IFBhbmVsTGlzdFZpZXc7XG4gIHRvZ2dsZVBhbmVsTGlzdFZpZXc6ICh2aWV3OiBzdHJpbmcpID0+IHZvaWQ7XG59O1xuXG5jb25zdCBQYW5lbFZpZXdMaXN0VG9nZ2xlQ29udGFpbmVyID0gc3R5bGVkLmRpdi5hdHRycyh7XG4gIGNsYXNzTmFtZTogJ3BhbmVsLXZpZXctbGlzdC10b2dnbGUnXG59KWBgO1xuXG5jb25zdCBQYW5lbFZpZXdMaXN0VG9nZ2xlV3JhcHBlciA9IHN0eWxlZC5kaXYuYXR0cnMoe1xuICBjbGFzc05hbWU6ICdwYW5lbC12aWV3LWxpc3QtdG9nZ2xlLWlubmVyJ1xufSlgXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcbiAgZ2FwOiAxMHB4O1xuYDtcblxuZXhwb3J0IGNvbnN0IFN0eWxlZFRvZ2dsZU9wdGlvbiA9IHN0eWxlZC5kaXYuYXR0cnMoe1xuICBjbGFzc05hbWU6ICdsYXllci1wYW5lbC10b2dnbGUtb3B0aW9uJ1xufSk8e2FjdGl2ZTogYm9vbGVhbn0+YFxuICBjb2xvcjogJHtwcm9wcyA9PiAocHJvcHMuYWN0aXZlID8gcHJvcHMudGhlbWUuc3VidGV4dENvbG9yQWN0aXZlIDogcHJvcHMudGhlbWUucGFuZWxUYWJDb2xvcil9O1xuICA6aG92ZXIge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBjb2xvcjogJHtwcm9wcyA9PiBwcm9wcy50aGVtZS5zdWJ0ZXh0Q29sb3JBY3RpdmV9O1xuICB9XG5gO1xuXG5mdW5jdGlvbiBUb2dnbGVPcHRpb25GYWN0b3J5KCkge1xuICBjb25zdCBUb2dnbGVPcHRpb246IFJlYWN0LkZDPFRvZ2dsZU9wdGlvblByb3BzPiA9ICh7aXNBY3RpdmUsIG9uQ2xpY2ssIG9wdGlvbn0pID0+IChcbiAgICA8U3R5bGVkVG9nZ2xlT3B0aW9uXG4gICAgICBkYXRhLXRpcFxuICAgICAgZGF0YS1mb3I9e2Ake29wdGlvbi5pZH0tdG9nZ2xlLW9wdGlvbmB9XG4gICAgICBhY3RpdmU9e2lzQWN0aXZlfVxuICAgICAgb25DbGljaz17b25DbGlja31cbiAgICA+XG4gICAgICA8b3B0aW9uLmljb25Db21wb25lbnQgaGVpZ2h0PVwiMjBweFwiIC8+XG4gICAgICA8VG9vbHRpcCBpZD17YCR7b3B0aW9uLmlkfS10b2dnbGUtb3B0aW9uYH0gZWZmZWN0PVwic29saWRcIiBkZWxheVNob3c9ezUwMH0gcGxhY2U9XCJib3R0b21cIj5cbiAgICAgICAgPHNwYW4+XG4gICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2UgaWQ9e29wdGlvbi5sYWJlbH0gLz5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9Ub29sdGlwPlxuICAgIDwvU3R5bGVkVG9nZ2xlT3B0aW9uPlxuICApO1xuXG4gIHJldHVybiBUb2dnbGVPcHRpb247XG59XG5cbmNvbnN0IFRPR0dMRV9PUFRJT05TID0gW1xuICB7XG4gICAgaWQ6IFBBTkVMX1ZJRVdfVE9HR0xFUy5saXN0LFxuICAgIGljb25Db21wb25lbnQ6IE9yZGVyQnlMaXN0LFxuICAgIGxhYmVsOiAnc2lkZWJhci5wYW5lbFZpZXdUb2dnbGUubGlzdCdcbiAgfSxcbiAge1xuICAgIGlkOiBQQU5FTF9WSUVXX1RPR0dMRVMuYnlEYXRhc2V0LFxuICAgIGljb25Db21wb25lbnQ6IE9yZGVyQnlEYXRhc2V0LFxuICAgIGxhYmVsOiAnc2lkZWJhci5wYW5lbFZpZXdUb2dnbGUuYnlEYXRhc2V0J1xuICB9XG5dO1xuXG5QYW5lbFZpZXdMaXN0VG9nZ2xlRmFjdG9yeS5kZXBzID0gW1RvZ2dsZU9wdGlvbkZhY3RvcnldO1xuXG5mdW5jdGlvbiBQYW5lbFZpZXdMaXN0VG9nZ2xlRmFjdG9yeShUb2dnbGVPcHRpb246IFJldHVyblR5cGU8dHlwZW9mIFRvZ2dsZU9wdGlvbkZhY3Rvcnk+KSB7XG4gIGNvbnN0IFBhbmVsVmlld0xpc3RUb2dnbGU6IFJlYWN0LkZDPFBhbmVsVmlld0xpc3RUb2dnbGVQcm9wcz4gPSAoe21vZGUsIHRvZ2dsZVBhbmVsTGlzdFZpZXd9KSA9PiB7XG4gICAgY29uc3QgdG9nZ2xlTGlzdFZpZXcgPSBsaXN0VmlldyA9PiB0b2dnbGVQYW5lbExpc3RWaWV3KGxpc3RWaWV3KTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB1c2VNZW1vKFxuICAgICAgKCkgPT4gVE9HR0xFX09QVElPTlMubWFwKG9wdCA9PiAoey4uLm9wdCwgaXNBY3RpdmU6IG1vZGUgPT09IG9wdC5pZH0pKSxcbiAgICAgIFttb2RlXVxuICAgICk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFBhbmVsVmlld0xpc3RUb2dnbGVDb250YWluZXI+XG4gICAgICAgIDxQYW5lbFZpZXdMaXN0VG9nZ2xlV3JhcHBlcj5cbiAgICAgICAgICB7b3B0aW9ucy5tYXAob3B0ID0+IChcbiAgICAgICAgICAgIDxUb2dnbGVPcHRpb25cbiAgICAgICAgICAgICAga2V5PXtvcHQuaWR9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZUxpc3RWaWV3KG9wdC5pZCl9XG4gICAgICAgICAgICAgIG9wdGlvbj17b3B0fVxuICAgICAgICAgICAgICBpc0FjdGl2ZT17b3B0LmlzQWN0aXZlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9QYW5lbFZpZXdMaXN0VG9nZ2xlV3JhcHBlcj5cbiAgICAgIDwvUGFuZWxWaWV3TGlzdFRvZ2dsZUNvbnRhaW5lcj5cbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBQYW5lbFZpZXdMaXN0VG9nZ2xlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBQYW5lbFZpZXdMaXN0VG9nZ2xlRmFjdG9yeTtcbiJdfQ==