"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = AnimationSpeedSliderFactory;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _react = _interopRequireWildcard(require("react"));

var _styledComponents = _interopRequireDefault(require("styled-components"));

var _rangeSlider = _interopRequireDefault(require("../range-slider"));

var _reactOnclickoutside = _interopRequireDefault(require("react-onclickoutside"));

var _constants = require("@kepler.gl/constants");

var _templateObject, _templateObject2;

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2["default"])(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var SliderWrapper = _styledComponents["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  position: relative;\n"])));

var SpeedSliderContainer = _styledComponents["default"].div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n  position: absolute;\n  bottom: 50px;\n  right: calc(0% - 32px);\n  width: 180px;\n  padding: 2px 8px 2px 12px;\n  background-color: ", ";\n  box-shadow: -2px -2px 0 0 rgba(0, 0, 0, 0.1);\n\n  .kg-range-slider__input {\n    width: 48px;\n    padding: 6px;\n  }\n"])), function (props) {
  return props.theme.bottomWidgetBgd;
});

AnimationSpeedSliderFactory.deps = [_rangeSlider["default"]];

function AnimationSpeedSliderFactory(RangeSlider) {
  var AnimationSpeedSlider = /*#__PURE__*/function (_Component) {
    (0, _inherits2["default"])(AnimationSpeedSlider, _Component);

    var _super = _createSuper(AnimationSpeedSlider);

    function AnimationSpeedSlider() {
      var _this;

      (0, _classCallCheck2["default"])(this, AnimationSpeedSlider);

      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      _this = _super.call.apply(_super, [this].concat(args));
      (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleClickOutside", function (e) {
        _this.props.onHide();
      });
      (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "_onChange", function (v) {
        return _this.props.updateAnimationSpeed(v[1]);
      });
      return _this;
    }

    (0, _createClass2["default"])(AnimationSpeedSlider, [{
      key: "render",
      value: function render() {
        return /*#__PURE__*/_react["default"].createElement(SpeedSliderContainer, {
          className: "animation-control__speed-slider"
        }, /*#__PURE__*/_react["default"].createElement(SliderWrapper, null, /*#__PURE__*/_react["default"].createElement(RangeSlider, {
          range: _constants.SPEED_CONTROL_RANGE,
          step: _constants.SPEED_CONTROL_STEP,
          value0: 0,
          value1: this.props.speed,
          onChange: this._onChange,
          isRanged: false,
          showInput: true,
          inputTheme: "secondary",
          inputSize: "tiny"
        })));
      }
    }]);
    return AnimationSpeedSlider;
  }(_react.Component);

  return (0, _reactOnclickoutside["default"])(AnimationSpeedSlider);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tb24vYW5pbWF0aW9uLWNvbnRyb2wvYW5pbWF0aW9uLXNwZWVkLXNsaWRlci50c3giXSwibmFtZXMiOlsiU2xpZGVyV3JhcHBlciIsInN0eWxlZCIsImRpdiIsIlNwZWVkU2xpZGVyQ29udGFpbmVyIiwicHJvcHMiLCJ0aGVtZSIsImJvdHRvbVdpZGdldEJnZCIsIkFuaW1hdGlvblNwZWVkU2xpZGVyRmFjdG9yeSIsImRlcHMiLCJSYW5nZVNsaWRlckZhY3RvcnkiLCJSYW5nZVNsaWRlciIsIkFuaW1hdGlvblNwZWVkU2xpZGVyIiwiZSIsIm9uSGlkZSIsInYiLCJ1cGRhdGVBbmltYXRpb25TcGVlZCIsIlNQRUVEX0NPTlRST0xfUkFOR0UiLCJTUEVFRF9DT05UUk9MX1NURVAiLCJzcGVlZCIsIl9vbkNoYW5nZSIsIkNvbXBvbmVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBRUEsSUFBTUEsYUFBYSxHQUFHQyw2QkFBT0MsR0FBViwrR0FBbkI7O0FBSUEsSUFBTUMsb0JBQW9CLEdBQUdGLDZCQUFPQyxHQUFWLGtXQU1KLFVBQUFFLEtBQUs7QUFBQSxTQUFJQSxLQUFLLENBQUNDLEtBQU4sQ0FBWUMsZUFBaEI7QUFBQSxDQU5ELENBQTFCOztBQWVBQywyQkFBMkIsQ0FBQ0MsSUFBNUIsR0FBbUMsQ0FBQ0MsdUJBQUQsQ0FBbkM7O0FBUWUsU0FBU0YsMkJBQVQsQ0FDYkcsV0FEYSxFQUU2QjtBQUFBLE1BQ3BDQyxvQkFEb0M7QUFBQTs7QUFBQTs7QUFBQTtBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBLDZHQUVuQixVQUFBQyxDQUFDLEVBQUk7QUFDeEIsY0FBS1IsS0FBTCxDQUFXUyxNQUFYO0FBQ0QsT0FKdUM7QUFBQSxvR0FNNUIsVUFBQUMsQ0FBQztBQUFBLGVBQUksTUFBS1YsS0FBTCxDQUFXVyxvQkFBWCxDQUFnQ0QsQ0FBQyxDQUFDLENBQUQsQ0FBakMsQ0FBSjtBQUFBLE9BTjJCO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUEsYUFReEMsa0JBQVM7QUFDUCw0QkFDRSxnQ0FBQyxvQkFBRDtBQUFzQixVQUFBLFNBQVMsRUFBQztBQUFoQyx3QkFDRSxnQ0FBQyxhQUFELHFCQUNFLGdDQUFDLFdBQUQ7QUFDRSxVQUFBLEtBQUssRUFBRUUsOEJBRFQ7QUFFRSxVQUFBLElBQUksRUFBRUMsNkJBRlI7QUFHRSxVQUFBLE1BQU0sRUFBRSxDQUhWO0FBSUUsVUFBQSxNQUFNLEVBQUUsS0FBS2IsS0FBTCxDQUFXYyxLQUpyQjtBQUtFLFVBQUEsUUFBUSxFQUFFLEtBQUtDLFNBTGpCO0FBTUUsVUFBQSxRQUFRLEVBQUUsS0FOWjtBQU9FLFVBQUEsU0FBUyxNQVBYO0FBUUUsVUFBQSxVQUFVLEVBQUMsV0FSYjtBQVNFLFVBQUEsU0FBUyxFQUFDO0FBVFosVUFERixDQURGLENBREY7QUFpQkQ7QUExQnVDO0FBQUE7QUFBQSxJQUNQQyxnQkFETzs7QUE2QjFDLFNBQU8scUNBQWVULG9CQUFmLENBQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbIi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCBjb250cmlidXRvcnMgdG8gdGhlIGtlcGxlci5nbCBwcm9qZWN0XG5cbmltcG9ydCBSZWFjdCwge0NvbXBvbmVudCwgQ29tcG9uZW50VHlwZX0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgUmFuZ2VTbGlkZXJGYWN0b3J5IGZyb20gJy4uL3JhbmdlLXNsaWRlcic7XG5pbXBvcnQgb25DbGlja091dHNpZGUgZnJvbSAncmVhY3Qtb25jbGlja291dHNpZGUnO1xuaW1wb3J0IHtTUEVFRF9DT05UUk9MX1JBTkdFLCBTUEVFRF9DT05UUk9MX1NURVB9IGZyb20gJ0BrZXBsZXIuZ2wvY29uc3RhbnRzJztcblxuY29uc3QgU2xpZGVyV3JhcHBlciA9IHN0eWxlZC5kaXZgXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbmA7XG5cbmNvbnN0IFNwZWVkU2xpZGVyQ29udGFpbmVyID0gc3R5bGVkLmRpdmBcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDUwcHg7XG4gIHJpZ2h0OiBjYWxjKDAlIC0gMzJweCk7XG4gIHdpZHRoOiAxODBweDtcbiAgcGFkZGluZzogMnB4IDhweCAycHggMTJweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogJHtwcm9wcyA9PiBwcm9wcy50aGVtZS5ib3R0b21XaWRnZXRCZ2R9O1xuICBib3gtc2hhZG93OiAtMnB4IC0ycHggMCAwIHJnYmEoMCwgMCwgMCwgMC4xKTtcblxuICAua2ctcmFuZ2Utc2xpZGVyX19pbnB1dCB7XG4gICAgd2lkdGg6IDQ4cHg7XG4gICAgcGFkZGluZzogNnB4O1xuICB9XG5gO1xuXG5BbmltYXRpb25TcGVlZFNsaWRlckZhY3RvcnkuZGVwcyA9IFtSYW5nZVNsaWRlckZhY3RvcnldO1xuXG5pbnRlcmZhY2UgQW5pbWF0aW9uU3BlZWRTbGlkZXJQcm9wcyB7XG4gIG9uSGlkZTogKCkgPT4gdm9pZDtcbiAgc3BlZWQ6IG51bWJlcjtcbiAgdXBkYXRlQW5pbWF0aW9uU3BlZWQ6ICh2YWw6IG51bWJlcikgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQW5pbWF0aW9uU3BlZWRTbGlkZXJGYWN0b3J5KFxuICBSYW5nZVNsaWRlcjogUmV0dXJuVHlwZTx0eXBlb2YgUmFuZ2VTbGlkZXJGYWN0b3J5PlxuKTogQ29tcG9uZW50VHlwZTxBbmltYXRpb25TcGVlZFNsaWRlclByb3BzPiB7XG4gIGNsYXNzIEFuaW1hdGlvblNwZWVkU2xpZGVyIGV4dGVuZHMgQ29tcG9uZW50PEFuaW1hdGlvblNwZWVkU2xpZGVyUHJvcHM+IHtcbiAgICBoYW5kbGVDbGlja091dHNpZGUgPSBlID0+IHtcbiAgICAgIHRoaXMucHJvcHMub25IaWRlKCk7XG4gICAgfTtcblxuICAgIF9vbkNoYW5nZSA9IHYgPT4gdGhpcy5wcm9wcy51cGRhdGVBbmltYXRpb25TcGVlZCh2WzFdKTtcblxuICAgIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTcGVlZFNsaWRlckNvbnRhaW5lciBjbGFzc05hbWU9XCJhbmltYXRpb24tY29udHJvbF9fc3BlZWQtc2xpZGVyXCI+XG4gICAgICAgICAgPFNsaWRlcldyYXBwZXI+XG4gICAgICAgICAgICA8UmFuZ2VTbGlkZXJcbiAgICAgICAgICAgICAgcmFuZ2U9e1NQRUVEX0NPTlRST0xfUkFOR0V9XG4gICAgICAgICAgICAgIHN0ZXA9e1NQRUVEX0NPTlRST0xfU1RFUH1cbiAgICAgICAgICAgICAgdmFsdWUwPXswfVxuICAgICAgICAgICAgICB2YWx1ZTE9e3RoaXMucHJvcHMuc3BlZWR9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLl9vbkNoYW5nZX1cbiAgICAgICAgICAgICAgaXNSYW5nZWQ9e2ZhbHNlfVxuICAgICAgICAgICAgICBzaG93SW5wdXRcbiAgICAgICAgICAgICAgaW5wdXRUaGVtZT1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgIGlucHV0U2l6ZT1cInRpbnlcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L1NsaWRlcldyYXBwZXI+XG4gICAgICAgIDwvU3BlZWRTbGlkZXJDb250YWluZXI+XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvbkNsaWNrT3V0c2lkZShBbmltYXRpb25TcGVlZFNsaWRlcik7XG59XG4iXX0=