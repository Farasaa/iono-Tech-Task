{"version":3,"sources":["../../../../src/components/export-video/export-video-panel-settings.js"],"names":["React","styled","withTheme","DEFAULT_PADDING","DEFAULT_ROW_GAP","DEFAULT_FILENAME","FORMATS","RESOLUTIONS","msConversion","estimateFileSize","WithKeplerUI","StyledSection","div","props","theme","labelColor","top","SliderWrapper","StyledLabelCell","StyledValueCell","textColor","InputGrid","rows","rowHeight","getOptionValue","r","value","displayOption","label","getSelectedItems","options","find","o","ExportVideoPanelSettings","setMediaType","setCameraPreset","setFileName","setResolution","settingsData","durationMs","frameRate","resolution","mediaType","setDuration","Input","ItemSelector","Slider","fileName","e","target","width","marginLeft","val","alignSelf","paddingLeft","cameraPreset"],"mappings":"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","sourcesContent":["// Copyright (c) 2020 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport styled, {withTheme} from 'styled-components';\n\nimport {\n  DEFAULT_PADDING,\n  DEFAULT_ROW_GAP,\n  DEFAULT_FILENAME,\n  FORMATS,\n  RESOLUTIONS\n} from './constants';\n\nimport {msConversion, estimateFileSize} from './utils';\n\nimport {WithKeplerUI} from '../inject-kepler';\n\nconst StyledSection = styled.div`\n  align-self: center;\n  color: ${props => props.theme.labelColor};\n  font-weight: 500;\n  font-size: 13px;\n  margin-top: ${props => (props.top ? '0px' : `${DEFAULT_PADDING}px`)};\n  margin-bottom: ${DEFAULT_ROW_GAP}px;\n`;\n\nconst SliderWrapper = styled.div`\n  display: flex;\n  position: relative;\n  flex-grow: 1;\n  margin-right: 24px;\n  margin-left: 24px;\n`;\n\nconst StyledLabelCell = styled.div`\n  align-self: center;\n  color: ${props => props.theme.labelColor};\n  font-weight: 400;\n  font-size: 11px;\n`;\n\nconst StyledValueCell = styled.div`\n  align-self: center;\n  color: ${props => props.theme.textColor};\n  font-weight: 500;\n  font-size: 11px;\n  padding: 0 12px;\n`;\n\nconst InputGrid = styled.div`\n  display: grid;\n  grid-template-columns: 88px auto;\n  grid-template-rows: repeat(\n    ${props => props.rows},\n    ${props => (props.rowHeight ? props.rowHeight : '34px')}\n  );\n  grid-row-gap: ${DEFAULT_ROW_GAP}px;\n`;\n\nconst getOptionValue = r => r.value;\nconst displayOption = r => r.label;\nconst getSelectedItems = (options, value) => options.find(o => o.value === value);\n\nconst ExportVideoPanelSettings = ({\n  setMediaType,\n  setCameraPreset,\n  setFileName,\n  setResolution,\n  settingsData,\n  durationMs,\n  frameRate,\n  resolution,\n  mediaType,\n  setDuration\n}) => (\n  <WithKeplerUI>\n    {({Input, ItemSelector, Slider}) => (\n      <div>\n        <StyledSection top={true}>Export Settings</StyledSection>\n        <InputGrid rows={5}>\n          <StyledLabelCell>File Name</StyledLabelCell>\n          <Input\n            value={settingsData.fileName}\n            placeholder={DEFAULT_FILENAME}\n            onChange={e => setFileName(e.target.value)}\n          />\n          <StyledLabelCell>Media Type</StyledLabelCell>\n          <ItemSelector\n            selectedItems={getSelectedItems(FORMATS, settingsData.mediaType)}\n            options={FORMATS}\n            getOptionValue={getOptionValue}\n            displayOption={displayOption}\n            multiSelect={false}\n            searchable={false}\n            onChange={setMediaType}\n          />\n          <StyledLabelCell>Resolution</StyledLabelCell>\n          <ItemSelector\n            selectedItems={getSelectedItems(RESOLUTIONS, settingsData.resolution)}\n            options={RESOLUTIONS}\n            getOptionValue={getOptionValue}\n            displayOption={displayOption}\n            multiSelect={false}\n            searchable={false}\n            onChange={setResolution}\n          />\n          <StyledLabelCell>Duration</StyledLabelCell>\n          <StyledValueCell>\n            <SliderWrapper\n              style={{width: '100%', marginLeft: '0px'}}\n              className=\"modal-duration__slider\"\n            >\n              <Slider\n                showValues={false}\n                enableBarDrag={true}\n                isRanged={false}\n                value1={durationMs}\n                step={100}\n                minValue={100}\n                maxValue={10000}\n                style={{width: '70px'}}\n                onSlider1Change={val => {\n                  setDuration(val);\n                }}\n              />\n              <div style={{alignSelf: 'center', paddingLeft: '8px', width: '56px'}}>\n                {msConversion(durationMs)}\n              </div>\n            </SliderWrapper>\n          </StyledValueCell>\n          <StyledLabelCell>File Size</StyledLabelCell>\n          <StyledValueCell>\n            {estimateFileSize(frameRate, resolution, durationMs, mediaType)}\n          </StyledValueCell>\n        </InputGrid>\n        <StyledSection>Video Effects</StyledSection>\n        <InputGrid rows={1}>\n          <StyledLabelCell>Camera</StyledLabelCell>\n          <ItemSelector\n            selectedItems={settingsData.cameraPreset}\n            options={[\n              'None',\n              'Orbit (90º)',\n              'Orbit (180º)',\n              'Orbit (360º)',\n              'North to South',\n              'South to North',\n              'East to West',\n              'West to East',\n              'Zoom Out',\n              'Zoom In'\n            ]}\n            multiSelect={false}\n            searchable={false}\n            onChange={setCameraPreset}\n          />\n        </InputGrid>\n      </div>\n    )}\n  </WithKeplerUI>\n);\n\nexport default withTheme(ExportVideoPanelSettings);\n"],"file":"export-video-panel-settings.js"}