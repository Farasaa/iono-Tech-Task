{"version":3,"sources":["../../../src/keyframes/utils.js"],"names":["transform","sanitizeEasings","keyframes","easings","_easings","idx","length","push","Error","sanitizeTimings","timings","_timings","time","merge","_keyframes","map","keyframe","ease","undefined","factorInterpolator","start","end","interpolate"],"mappings":"AAmBA,SAAQA,SAAR,QAAwB,WAAxB;AAEA,OAAO,SAASC,eAAT,CAAyBC,SAAzB,EAAoCC,OAApC,EAA6C;AAClD,MAAIC,QAAQ,GAAGD,OAAf;;AACA,MAAI,OAAOA,OAAP,KAAmB,UAAvB,EAAmC;AACjCC,IAAAA,QAAQ,GAAG,EAAX;;AACA,SAAK,IAAIC,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGH,SAAS,CAACI,MAAV,GAAmB,CAA3C,EAA8CD,GAAG,EAAjD,EAAqD;AACnDD,MAAAA,QAAQ,CAACG,IAAT,CAAcJ,OAAd;AACD;AACF;;AAED,MAAID,SAAS,CAACI,MAAV,GAAmB,CAAnB,KAAyBF,QAAQ,CAACE,MAAtC,EAA8C;AAC5C,UAAM,IAAIE,KAAJ,CAAU,+CAAV,CAAN;AACD;;AAED,SAAOJ,QAAP;AACD;AAED,OAAO,SAASK,eAAT,CAAyBP,SAAzB,EAAoCQ,OAApC,EAA6C;AAClD,MAAIC,QAAQ,GAAGD,OAAf;;AACA,MAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;AAC/BC,IAAAA,QAAQ,GAAG,EAAX;AACA,QAAIC,IAAI,GAAG,CAAX;;AACA,SAAK,IAAIP,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGH,SAAS,CAACI,MAAlC,EAA0CD,GAAG,EAA7C,EAAiD;AAC/CM,MAAAA,QAAQ,CAACJ,IAAT,CAAcK,IAAd;;AACAA,MAAAA,IAAI,IAAIF,OAAR;AACD;AACF;;AACD,MAAIR,SAAS,CAACI,MAAV,KAAqBK,QAAQ,CAACL,MAAlC,EAA0C;AACxC,UAAM,IAAIE,KAAJ,CAAU,mDAAV,CAAN;AACD;;AACD,SAAOG,QAAP;AACD;AAED,OAAO,SAASE,KAAT,CAAeH,OAAf,EAAwBR,SAAxB,EAAmCC,OAAnC,EAA4C;AACjD,QAAMW,UAAU,GAAGZ,SAAS,CAACa,GAAV,CAAc,CAACC,QAAD,EAAWX,GAAX,KAAmB;AAClD,QAAIA,GAAG,KAAK,CAAZ,EAAe;AACb,aAAO,CAACK,OAAO,CAACL,GAAD,CAAR,EAAe,EAAC,GAAGW,QAAJ;AAAcC,QAAAA,IAAI,EAAEC;AAApB,OAAf,CAAP;AACD;;AACD,WAAO,CAACR,OAAO,CAACL,GAAD,CAAR,EAAe,EAAC,GAAGW,QAAJ;AAAcC,MAAAA,IAAI,EAAEd,OAAO,CAACE,GAAG,GAAG,CAAP;AAA3B,KAAf,CAAP;AACD,GALkB,CAAnB;;AAMA,SAAOS,UAAP;AACD;AAED,OAAO,SAASK,kBAAT,CAA4BC,KAA5B,EAAmCC,GAAnC,EAAwCJ,IAAxC,EAA8C;AACnD,SAAOjB,SAAS,CAACsB,WAAV,CAAsB,CAAC,CAAD,EAAI,CAAJ,CAAtB,EAA8B,CAACF,KAAD,EAAQC,GAAR,CAA9B,EAA4C;AAACJ,IAAAA;AAAD,GAA5C,CAAP;AACD","sourcesContent":["// Copyright (c) 2020 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport {transform} from 'popmotion';\n\nexport function sanitizeEasings(keyframes, easings) {\n  let _easings = easings;\n  if (typeof easings === 'function') {\n    _easings = [];\n    for (let idx = 0; idx < keyframes.length - 1; idx++) {\n      _easings.push(easings);\n    }\n  }\n\n  if (keyframes.length - 1 !== _easings.length) {\n    throw new Error('There must be one fewer easing than keyframes');\n  }\n\n  return _easings;\n}\n\nexport function sanitizeTimings(keyframes, timings) {\n  let _timings = timings;\n  if (typeof timings === 'number') {\n    _timings = [];\n    let time = 0;\n    for (let idx = 0; idx < keyframes.length; idx++) {\n      _timings.push(time);\n      time += timings;\n    }\n  }\n  if (keyframes.length !== _timings.length) {\n    throw new Error('There must be same number of timings as keyframes');\n  }\n  return _timings;\n}\n\nexport function merge(timings, keyframes, easings) {\n  const _keyframes = keyframes.map((keyframe, idx) => {\n    if (idx === 0) {\n      return [timings[idx], {...keyframe, ease: undefined}];\n    }\n    return [timings[idx], {...keyframe, ease: easings[idx - 1]}];\n  });\n  return _keyframes;\n}\n\nexport function factorInterpolator(start, end, ease) {\n  return transform.interpolate([0, 1], [start, end], {ease});\n}\n"],"file":"utils.js"}