{"version":3,"file":"index.js","names":["pad","n","String","slice","canvasToArrayBuffer","canvas","type","quality","undefined","base64","toDataURL","response","fetch","arrayBuffer","checkIfBlank","b64","length","console","warn"],"sources":["../../../../src/encoders/utils/index.js"],"sourcesContent":["// Copyright (c) 2021 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/* eslint-disable no-console */\n\n/**\n * @param {number} n\n */\nexport function pad(n) {\n  return String(`0000000${n}`).slice(-7);\n}\n\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {string} type\n * @param {number} quality\n */\nexport async function canvasToArrayBuffer(canvas, type, quality = undefined) {\n  const base64 = canvas.toDataURL(type, quality);\n  const response = await fetch(base64);\n  return await response.arrayBuffer();\n}\n\n/**\n * @param {string} b64\n */\nexport function checkIfBlank(b64) {\n  if (b64.length < 100000) {\n    console.warn('Possibly blank image!', b64, b64.length);\n    return true;\n  }\n  return false;\n}\n"],"mappings":"AAyBA,OAAO,SAASA,GAAT,CAAaC,CAAb,EAAgB;EACrB,OAAOC,MAAM,kBAAWD,CAAX,EAAN,CAAsBE,KAAtB,CAA4B,CAAC,CAA7B,CAAP;AACD;AAOD,OAAO,eAAeC,mBAAf,CAAmCC,MAAnC,EAA2CC,IAA3C,EAAsE;EAAA,IAArBC,OAAqB,uEAAXC,SAAW;EAC3E,MAAMC,MAAM,GAAGJ,MAAM,CAACK,SAAP,CAAiBJ,IAAjB,EAAuBC,OAAvB,CAAf;EACA,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAACH,MAAD,CAA5B;EACA,OAAO,MAAME,QAAQ,CAACE,WAAT,EAAb;AACD;AAKD,OAAO,SAASC,YAAT,CAAsBC,GAAtB,EAA2B;EAChC,IAAIA,GAAG,CAACC,MAAJ,GAAa,MAAjB,EAAyB;IACvBC,OAAO,CAACC,IAAR,CAAa,uBAAb,EAAsCH,GAAtC,EAA2CA,GAAG,CAACC,MAA/C;IACA,OAAO,IAAP;EACD;;EACD,OAAO,KAAP;AACD"}