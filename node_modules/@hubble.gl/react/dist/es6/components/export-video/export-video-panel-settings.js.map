{"version":3,"sources":["../../../../src/components/export-video/export-video-panel-settings.js"],"names":["React","styled","withTheme","DEFAULT_PADDING","DEFAULT_ROW_GAP","DEFAULT_FILENAME","FORMATS","RESOLUTIONS","msConversion","estimateFileSize","WithKeplerUI","StyledSection","div","props","theme","labelColor","top","SliderWrapper","StyledLabelCell","StyledValueCell","textColor","InputGrid","rows","rowHeight","getOptionValue","r","value","displayOption","label","getSelectedItems","options","find","o","ExportVideoPanelSettings","setMediaType","setCameraPreset","setFileName","setResolution","settingsData","durationMs","frameRate","resolution","mediaType","setDuration","Input","ItemSelector","Slider","fileName","e","target","width","marginLeft","val","alignSelf","paddingLeft","cameraPreset"],"mappings":"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","sourcesContent":["// Copyright (c) 2020 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport styled, {withTheme} from 'styled-components';\n\nimport {\n  DEFAULT_PADDING,\n  DEFAULT_ROW_GAP,\n  DEFAULT_FILENAME,\n  FORMATS,\n  RESOLUTIONS\n} from './constants';\n\nimport {msConversion, estimateFileSize} from './utils';\n\nimport {WithKeplerUI} from '../inject-kepler';\n\nconst StyledSection = styled.div`\n  align-self: center;\n  color: ${props => props.theme.labelColor};\n  font-weight: 500;\n  font-size: 13px;\n  margin-top: ${props => (props.top ? '0px' : `${DEFAULT_PADDING}px`)};\n  margin-bottom: ${DEFAULT_ROW_GAP}px;\n`;\n\nconst SliderWrapper = styled.div`\n  display: flex;\n  position: relative;\n  flex-grow: 1;\n  margin-right: 24px;\n  margin-left: 24px;\n`;\n\nconst StyledLabelCell = styled.div`\n  align-self: center;\n  color: ${props => props.theme.labelColor};\n  font-weight: 400;\n  font-size: 11px;\n`;\n\nconst StyledValueCell = styled.div`\n  align-self: center;\n  color: ${props => props.theme.textColor};\n  font-weight: 500;\n  font-size: 11px;\n  padding: 0 12px;\n`;\n\nconst InputGrid = styled.div`\n  display: grid;\n  grid-template-columns: 88px auto;\n  grid-template-rows: repeat(\n    ${props => props.rows},\n    ${props => (props.rowHeight ? props.rowHeight : '34px')}\n  );\n  grid-row-gap: ${DEFAULT_ROW_GAP}px;\n`;\n\nconst getOptionValue = r => r.value;\nconst displayOption = r => r.label;\nconst getSelectedItems = (options, value) => options.find(o => o.value === value);\n\nconst ExportVideoPanelSettings = ({\n  setMediaType,\n  setCameraPreset,\n  setFileName,\n  setResolution,\n  settingsData,\n  durationMs,\n  frameRate,\n  resolution,\n  mediaType,\n  setDuration\n}) => (\n  <WithKeplerUI>\n    {({Input, ItemSelector, Slider}) => (\n      <div>\n        <StyledSection top={true}>Export Settings</StyledSection>\n        <InputGrid rows={5}>\n          <StyledLabelCell>File Name</StyledLabelCell>\n          <Input\n            value={settingsData.fileName}\n            placeholder={DEFAULT_FILENAME}\n            onChange={e => setFileName(e.target.value)}\n          />\n          <StyledLabelCell>Media Type</StyledLabelCell>\n          <ItemSelector\n            selectedItems={getSelectedItems(FORMATS, settingsData.mediaType)}\n            options={FORMATS}\n            getOptionValue={getOptionValue}\n            displayOption={displayOption}\n            multiSelect={false}\n            searchable={false}\n            onChange={setMediaType}\n          />\n          <StyledLabelCell>Resolution</StyledLabelCell>\n          <ItemSelector\n            selectedItems={getSelectedItems(RESOLUTIONS, settingsData.resolution)}\n            options={RESOLUTIONS}\n            getOptionValue={getOptionValue}\n            displayOption={displayOption}\n            multiSelect={false}\n            searchable={false}\n            onChange={setResolution}\n          />\n          <StyledLabelCell>Duration</StyledLabelCell>\n          <StyledValueCell>\n            <SliderWrapper\n              style={{width: '100%', marginLeft: '0px'}}\n              className=\"modal-duration__slider\"\n            >\n              <Slider\n                showValues={false}\n                enableBarDrag={true}\n                isRanged={false}\n                value1={durationMs}\n                step={100}\n                minValue={100}\n                maxValue={10000}\n                style={{width: '70px'}}\n                onSlider1Change={val => {\n                  setDuration(val);\n                }}\n              />\n              <div style={{alignSelf: 'center', paddingLeft: '8px', width: '56px'}}>\n                {msConversion(durationMs)}\n              </div>\n            </SliderWrapper>\n          </StyledValueCell>\n          <StyledLabelCell>File Size</StyledLabelCell>\n          <StyledValueCell>\n            {estimateFileSize(frameRate, resolution, durationMs, mediaType)}\n          </StyledValueCell>\n        </InputGrid>\n        <StyledSection>Video Effects</StyledSection>\n        <InputGrid rows={1}>\n          <StyledLabelCell>Camera</StyledLabelCell>\n          <ItemSelector\n            selectedItems={settingsData.cameraPreset}\n            options={[\n              'None',\n              'Orbit (90ยบ)',\n              'Orbit (180ยบ)',\n              'Orbit (360ยบ)',\n              'North to South',\n              'South to North',\n              'East to West',\n              'West to East',\n              'Zoom Out',\n              'Zoom In'\n            ]}\n            multiSelect={false}\n            searchable={false}\n            onChange={setCameraPreset}\n          />\n        </InputGrid>\n      </div>\n    )}\n  </WithKeplerUI>\n);\n\nexport default withTheme(ExportVideoPanelSettings);\n"],"file":"export-video-panel-settings.js"}