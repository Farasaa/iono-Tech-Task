"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _react = _interopRequireDefault(require("react"));

var _styledComponents = _interopRequireDefault(require("styled-components"));

var _panelHeaderAction = _interopRequireDefault(require("../panel-header-action"));

var _mapLayerGroupItem = _interopRequireDefault(require("./map-layer-group-item"));

var _icons = require("../../common/icons");

var _styledComponents2 = require("../../common/styled-components");

var _localization = require("@kepler.gl/localization");

var _cloudProviders = require("@kepler.gl/cloud-providers");

var _constants = require("@kepler.gl/constants");

var _templateObject;

function noop() {}

var StyledInteractionPanel = _styledComponents["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  padding-bottom: 12px;\n"])));

LayerGroupSelectorFactory.deps = [_panelHeaderAction["default"], _mapLayerGroupItem["default"]];

function LayerGroupSelectorFactory(PanelHeaderAction, LayerGroupItem) {
  var defaultActionIcons = {
    visible: _icons.EyeSeen,
    hidden: _icons.EyeUnseen,
    top: _cloudProviders.Upload
  };

  var LayerGroupSelector = function LayerGroupSelector(_ref) {
    var layers = _ref.layers,
        editableLayers = _ref.editableLayers,
        onChange = _ref.onChange,
        topLayers = _ref.topLayers,
        threeDBuildingColor = _ref.threeDBuildingColor,
        on3dBuildingColorChange = _ref.on3dBuildingColorChange,
        backgroundColor = _ref.backgroundColor,
        onBackgroundColorChange = _ref.onBackgroundColorChange,
        _ref$actionIcons = _ref.actionIcons,
        actionIcons = _ref$actionIcons === void 0 ? defaultActionIcons : _ref$actionIcons;
    return /*#__PURE__*/_react["default"].createElement(StyledInteractionPanel, {
      className: "map-style__layer-group__selector"
    }, /*#__PURE__*/_react["default"].createElement("div", {
      className: "layer-group__header"
    }, /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelLabel, null, /*#__PURE__*/_react["default"].createElement(_localization.FormattedMessage, {
      id: 'mapLayers.title'
    }))), /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelContent, {
      className: "map-style__layer-group"
    }, editableLayers.map(function (_ref2) {
      var slug = _ref2.slug,
          isVisibilityToggleAvailable = _ref2.isVisibilityToggleAvailable,
          isMoveToTopAvailable = _ref2.isMoveToTopAvailable,
          isColorPickerAvailable = _ref2.isColorPickerAvailable;
      return /*#__PURE__*/_react["default"].createElement(LayerGroupItem, {
        key: slug,
        PanelHeaderAction: PanelHeaderAction,
        onChange: onChange,
        slug: slug,
        layers: layers,
        topLayers: topLayers,
        actionIcons: actionIcons,
        isVisibilityToggleAvailable: isVisibilityToggleAvailable,
        isMoveToTopAvailable: isMoveToTopAvailable,
        isColorPickerAvailable: isColorPickerAvailable,
        color: isColorPickerAvailable && slug === _constants.THREE_D_BUILDING_LAYER_GROUP_SLUG ? threeDBuildingColor : slug === _constants.BACKGROUND_LAYER_GROUP_SLUG ? backgroundColor : null,
        onColorChange: isColorPickerAvailable && slug === _constants.THREE_D_BUILDING_LAYER_GROUP_SLUG ? on3dBuildingColorChange : slug === _constants.BACKGROUND_LAYER_GROUP_SLUG ? onBackgroundColorChange : noop
      });
    })));
  };

  return LayerGroupSelector;
}

var _default = LayerGroupSelectorFactory;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zaWRlLXBhbmVsL21hcC1zdHlsZS1wYW5lbC9tYXAtbGF5ZXItc2VsZWN0b3IudHN4Il0sIm5hbWVzIjpbIm5vb3AiLCJTdHlsZWRJbnRlcmFjdGlvblBhbmVsIiwic3R5bGVkIiwiZGl2IiwiTGF5ZXJHcm91cFNlbGVjdG9yRmFjdG9yeSIsImRlcHMiLCJQYW5lbEhlYWRlckFjdGlvbkZhY3RvcnkiLCJMYXllckdyb3VwSXRlbUZhY3RvcnkiLCJQYW5lbEhlYWRlckFjdGlvbiIsIkxheWVyR3JvdXBJdGVtIiwiZGVmYXVsdEFjdGlvbkljb25zIiwidmlzaWJsZSIsIkV5ZVNlZW4iLCJoaWRkZW4iLCJFeWVVbnNlZW4iLCJ0b3AiLCJVcGxvYWQiLCJMYXllckdyb3VwU2VsZWN0b3IiLCJsYXllcnMiLCJlZGl0YWJsZUxheWVycyIsIm9uQ2hhbmdlIiwidG9wTGF5ZXJzIiwidGhyZWVEQnVpbGRpbmdDb2xvciIsIm9uM2RCdWlsZGluZ0NvbG9yQ2hhbmdlIiwiYmFja2dyb3VuZENvbG9yIiwib25CYWNrZ3JvdW5kQ29sb3JDaGFuZ2UiLCJhY3Rpb25JY29ucyIsIm1hcCIsInNsdWciLCJpc1Zpc2liaWxpdHlUb2dnbGVBdmFpbGFibGUiLCJpc01vdmVUb1RvcEF2YWlsYWJsZSIsImlzQ29sb3JQaWNrZXJBdmFpbGFibGUiLCJUSFJFRV9EX0JVSUxESU5HX0xBWUVSX0dST1VQX1NMVUciLCJCQUNLR1JPVU5EX0xBWUVSX0dST1VQX1NMVUciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBR0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBRUE7O0FBQ0E7Ozs7QUFZQSxTQUFTQSxJQUFULEdBQWdCLENBQUU7O0FBRWxCLElBQU1DLHNCQUFzQixHQUFHQyw2QkFBT0MsR0FBVixpSEFBNUI7O0FBZ0JBQyx5QkFBeUIsQ0FBQ0MsSUFBMUIsR0FBaUMsQ0FBQ0MsNkJBQUQsRUFBMkJDLDZCQUEzQixDQUFqQzs7QUFFQSxTQUFTSCx5QkFBVCxDQUNFSSxpQkFERixFQUVFQyxjQUZGLEVBR0U7QUFDQSxNQUFNQyxrQkFBNkMsR0FBRztBQUNwREMsSUFBQUEsT0FBTyxFQUFFQyxjQUQyQztBQUVwREMsSUFBQUEsTUFBTSxFQUFFQyxnQkFGNEM7QUFHcERDLElBQUFBLEdBQUcsRUFBRUM7QUFIK0MsR0FBdEQ7O0FBS0EsTUFBTUMsa0JBQWtCLEdBQUcsU0FBckJBLGtCQUFxQixPQVVJO0FBQUEsUUFUN0JDLE1BUzZCLFFBVDdCQSxNQVM2QjtBQUFBLFFBUjdCQyxjQVE2QixRQVI3QkEsY0FRNkI7QUFBQSxRQVA3QkMsUUFPNkIsUUFQN0JBLFFBTzZCO0FBQUEsUUFON0JDLFNBTTZCLFFBTjdCQSxTQU02QjtBQUFBLFFBTDdCQyxtQkFLNkIsUUFMN0JBLG1CQUs2QjtBQUFBLFFBSjdCQyx1QkFJNkIsUUFKN0JBLHVCQUk2QjtBQUFBLFFBSDdCQyxlQUc2QixRQUg3QkEsZUFHNkI7QUFBQSxRQUY3QkMsdUJBRTZCLFFBRjdCQSx1QkFFNkI7QUFBQSxnQ0FEN0JDLFdBQzZCO0FBQUEsUUFEN0JBLFdBQzZCLGlDQURmaEIsa0JBQ2U7QUFDN0Isd0JBQ0UsZ0NBQUMsc0JBQUQ7QUFBd0IsTUFBQSxTQUFTLEVBQUM7QUFBbEMsb0JBQ0U7QUFBSyxNQUFBLFNBQVMsRUFBQztBQUFmLG9CQUNFLGdDQUFDLDZCQUFELHFCQUNFLGdDQUFDLDhCQUFEO0FBQWtCLE1BQUEsRUFBRSxFQUFFO0FBQXRCLE1BREYsQ0FERixDQURGLGVBTUUsZ0NBQUMsK0JBQUQ7QUFBYyxNQUFBLFNBQVMsRUFBQztBQUF4QixPQUNHUyxjQUFjLENBQUNRLEdBQWYsQ0FDQztBQUFBLFVBQUVDLElBQUYsU0FBRUEsSUFBRjtBQUFBLFVBQVFDLDJCQUFSLFNBQVFBLDJCQUFSO0FBQUEsVUFBcUNDLG9CQUFyQyxTQUFxQ0Esb0JBQXJDO0FBQUEsVUFBMkRDLHNCQUEzRCxTQUEyREEsc0JBQTNEO0FBQUEsMEJBQ0UsZ0NBQUMsY0FBRDtBQUNFLFFBQUEsR0FBRyxFQUFFSCxJQURQO0FBRUUsUUFBQSxpQkFBaUIsRUFBRXBCLGlCQUZyQjtBQUdFLFFBQUEsUUFBUSxFQUFFWSxRQUhaO0FBSUUsUUFBQSxJQUFJLEVBQUVRLElBSlI7QUFLRSxRQUFBLE1BQU0sRUFBRVYsTUFMVjtBQU1FLFFBQUEsU0FBUyxFQUFFRyxTQU5iO0FBT0UsUUFBQSxXQUFXLEVBQUVLLFdBUGY7QUFRRSxRQUFBLDJCQUEyQixFQUFFRywyQkFSL0I7QUFTRSxRQUFBLG9CQUFvQixFQUFFQyxvQkFUeEI7QUFVRSxRQUFBLHNCQUFzQixFQUFFQyxzQkFWMUI7QUFXRSxRQUFBLEtBQUssRUFDSEEsc0JBQXNCLElBQUlILElBQUksS0FBS0ksNENBQW5DLEdBQ0lWLG1CQURKLEdBRUlNLElBQUksS0FBS0ssc0NBQVQsR0FDQVQsZUFEQSxHQUVBLElBaEJSO0FBa0JFLFFBQUEsYUFBYSxFQUNYTyxzQkFBc0IsSUFBSUgsSUFBSSxLQUFLSSw0Q0FBbkMsR0FDSVQsdUJBREosR0FFSUssSUFBSSxLQUFLSyxzQ0FBVCxHQUNBUix1QkFEQSxHQUVBekI7QUF2QlIsUUFERjtBQUFBLEtBREQsQ0FESCxDQU5GLENBREY7QUF5Q0QsR0FwREQ7O0FBc0RBLFNBQU9pQixrQkFBUDtBQUNEOztlQUVjYix5QiIsInNvdXJjZXNDb250ZW50IjpbIi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCBjb250cmlidXRvcnMgdG8gdGhlIGtlcGxlci5nbCBwcm9qZWN0XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCBQYW5lbEhlYWRlckFjdGlvbkZhY3RvcnkgZnJvbSAnLi4vcGFuZWwtaGVhZGVyLWFjdGlvbic7XG5pbXBvcnQgTGF5ZXJHcm91cEl0ZW1GYWN0b3J5LCB7TGF5ZXJHcm91cEl0ZW1BY3Rpb25JY29uc30gZnJvbSAnLi9tYXAtbGF5ZXItZ3JvdXAtaXRlbSc7XG5pbXBvcnQge0V5ZVNlZW4sIEV5ZVVuc2Vlbn0gZnJvbSAnLi4vLi4vY29tbW9uL2ljb25zJztcblxuaW1wb3J0IHtQYW5lbExhYmVsLCBQYW5lbENvbnRlbnR9IGZyb20gJy4uLy4uL2NvbW1vbi9zdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQge0Zvcm1hdHRlZE1lc3NhZ2V9IGZyb20gJ0BrZXBsZXIuZ2wvbG9jYWxpemF0aW9uJztcbmltcG9ydCB7VmlzaWJsZUxheWVyR3JvdXBzfSBmcm9tICdAa2VwbGVyLmdsL3R5cGVzJztcbmltcG9ydCB7VXBsb2FkfSBmcm9tICdAa2VwbGVyLmdsL2Nsb3VkLXByb3ZpZGVycyc7XG5pbXBvcnQge1xuICBUSFJFRV9EX0JVSUxESU5HX0xBWUVSX0dST1VQX1NMVUcsXG4gIEJBQ0tHUk9VTkRfTEFZRVJfR1JPVVBfU0xVRyxcbiAgREVGQVVMVF9MQVlFUl9HUk9VUFxufSBmcm9tICdAa2VwbGVyLmdsL2NvbnN0YW50cyc7XG5pbXBvcnQge1xuICBNYXBDb25maWdDaGFuZ2VVcGRhdGVyQWN0aW9uLFxuICBTZXQzZEJ1aWxkaW5nQ29sb3JVcGRhdGVyQWN0aW9uLFxuICBTZXRCYWNrZ3JvdW5kQ29sb3JVcGRhdGVyQWN0aW9uXG59IGZyb20gJ0BrZXBsZXIuZ2wvYWN0aW9ucyc7XG5pbXBvcnQge01hcFN0eWxlfSBmcm9tICdAa2VwbGVyLmdsL3JlZHVjZXJzJztcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmNvbnN0IFN0eWxlZEludGVyYWN0aW9uUGFuZWwgPSBzdHlsZWQuZGl2YFxuICBwYWRkaW5nLWJvdHRvbTogMTJweDtcbmA7XG5cbmV4cG9ydCB0eXBlIExheWVyR3JvdXBTZWxlY3RvclByb3BzID0ge1xuICBsYXllcnM6IFZpc2libGVMYXllckdyb3VwcztcbiAgZWRpdGFibGVMYXllcnM6IERFRkFVTFRfTEFZRVJfR1JPVVBbXTtcbiAgb25DaGFuZ2U6IChwYXlsb2FkOiBNYXBDb25maWdDaGFuZ2VVcGRhdGVyQWN0aW9uWydwYXlsb2FkJ10pID0+IHZvaWQ7XG4gIHRvcExheWVyczogTWFwU3R5bGVbJ3RvcExheWVyR3JvdXBzJ107XG4gIHRocmVlREJ1aWxkaW5nQ29sb3I6IE1hcFN0eWxlWyd0aHJlZURCdWlsZGluZ0NvbG9yJ107XG4gIG9uM2RCdWlsZGluZ0NvbG9yQ2hhbmdlOiAocGQ6IFNldDNkQnVpbGRpbmdDb2xvclVwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXSkgPT4gdm9pZDtcbiAgYmFja2dyb3VuZENvbG9yOiBNYXBTdHlsZVsnYmFja2dyb3VuZENvbG9yJ107XG4gIG9uQmFja2dyb3VuZENvbG9yQ2hhbmdlOiAocGQ6IFNldEJhY2tncm91bmRDb2xvclVwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXSkgPT4gdm9pZDtcbiAgYWN0aW9uSWNvbnM/OiBMYXllckdyb3VwSXRlbUFjdGlvbkljb25zO1xufTtcblxuTGF5ZXJHcm91cFNlbGVjdG9yRmFjdG9yeS5kZXBzID0gW1BhbmVsSGVhZGVyQWN0aW9uRmFjdG9yeSwgTGF5ZXJHcm91cEl0ZW1GYWN0b3J5XTtcblxuZnVuY3Rpb24gTGF5ZXJHcm91cFNlbGVjdG9yRmFjdG9yeShcbiAgUGFuZWxIZWFkZXJBY3Rpb246IFJldHVyblR5cGU8dHlwZW9mIFBhbmVsSGVhZGVyQWN0aW9uRmFjdG9yeT4sXG4gIExheWVyR3JvdXBJdGVtOiBSZXR1cm5UeXBlPHR5cGVvZiBMYXllckdyb3VwSXRlbUZhY3Rvcnk+XG4pIHtcbiAgY29uc3QgZGVmYXVsdEFjdGlvbkljb25zOiBMYXllckdyb3VwSXRlbUFjdGlvbkljb25zID0ge1xuICAgIHZpc2libGU6IEV5ZVNlZW4sXG4gICAgaGlkZGVuOiBFeWVVbnNlZW4sXG4gICAgdG9wOiBVcGxvYWRcbiAgfTtcbiAgY29uc3QgTGF5ZXJHcm91cFNlbGVjdG9yID0gKHtcbiAgICBsYXllcnMsXG4gICAgZWRpdGFibGVMYXllcnMsXG4gICAgb25DaGFuZ2UsXG4gICAgdG9wTGF5ZXJzLFxuICAgIHRocmVlREJ1aWxkaW5nQ29sb3IsXG4gICAgb24zZEJ1aWxkaW5nQ29sb3JDaGFuZ2UsXG4gICAgYmFja2dyb3VuZENvbG9yLFxuICAgIG9uQmFja2dyb3VuZENvbG9yQ2hhbmdlLFxuICAgIGFjdGlvbkljb25zID0gZGVmYXVsdEFjdGlvbkljb25zXG4gIH06IExheWVyR3JvdXBTZWxlY3RvclByb3BzKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxTdHlsZWRJbnRlcmFjdGlvblBhbmVsIGNsYXNzTmFtZT1cIm1hcC1zdHlsZV9fbGF5ZXItZ3JvdXBfX3NlbGVjdG9yXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGF5ZXItZ3JvdXBfX2hlYWRlclwiPlxuICAgICAgICAgIDxQYW5lbExhYmVsPlxuICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2UgaWQ9eydtYXBMYXllcnMudGl0bGUnfSAvPlxuICAgICAgICAgIDwvUGFuZWxMYWJlbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxQYW5lbENvbnRlbnQgY2xhc3NOYW1lPVwibWFwLXN0eWxlX19sYXllci1ncm91cFwiPlxuICAgICAgICAgIHtlZGl0YWJsZUxheWVycy5tYXAoXG4gICAgICAgICAgICAoe3NsdWcsIGlzVmlzaWJpbGl0eVRvZ2dsZUF2YWlsYWJsZSwgaXNNb3ZlVG9Ub3BBdmFpbGFibGUsIGlzQ29sb3JQaWNrZXJBdmFpbGFibGV9KSA9PiAoXG4gICAgICAgICAgICAgIDxMYXllckdyb3VwSXRlbVxuICAgICAgICAgICAgICAgIGtleT17c2x1Z31cbiAgICAgICAgICAgICAgICBQYW5lbEhlYWRlckFjdGlvbj17UGFuZWxIZWFkZXJBY3Rpb259XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHNsdWc9e3NsdWd9XG4gICAgICAgICAgICAgICAgbGF5ZXJzPXtsYXllcnN9XG4gICAgICAgICAgICAgICAgdG9wTGF5ZXJzPXt0b3BMYXllcnN9XG4gICAgICAgICAgICAgICAgYWN0aW9uSWNvbnM9e2FjdGlvbkljb25zfVxuICAgICAgICAgICAgICAgIGlzVmlzaWJpbGl0eVRvZ2dsZUF2YWlsYWJsZT17aXNWaXNpYmlsaXR5VG9nZ2xlQXZhaWxhYmxlfVxuICAgICAgICAgICAgICAgIGlzTW92ZVRvVG9wQXZhaWxhYmxlPXtpc01vdmVUb1RvcEF2YWlsYWJsZX1cbiAgICAgICAgICAgICAgICBpc0NvbG9yUGlja2VyQXZhaWxhYmxlPXtpc0NvbG9yUGlja2VyQXZhaWxhYmxlfVxuICAgICAgICAgICAgICAgIGNvbG9yPXtcbiAgICAgICAgICAgICAgICAgIGlzQ29sb3JQaWNrZXJBdmFpbGFibGUgJiYgc2x1ZyA9PT0gVEhSRUVfRF9CVUlMRElOR19MQVlFUl9HUk9VUF9TTFVHXG4gICAgICAgICAgICAgICAgICAgID8gdGhyZWVEQnVpbGRpbmdDb2xvclxuICAgICAgICAgICAgICAgICAgICA6IHNsdWcgPT09IEJBQ0tHUk9VTkRfTEFZRVJfR1JPVVBfU0xVR1xuICAgICAgICAgICAgICAgICAgICA/IGJhY2tncm91bmRDb2xvclxuICAgICAgICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb25Db2xvckNoYW5nZT17XG4gICAgICAgICAgICAgICAgICBpc0NvbG9yUGlja2VyQXZhaWxhYmxlICYmIHNsdWcgPT09IFRIUkVFX0RfQlVJTERJTkdfTEFZRVJfR1JPVVBfU0xVR1xuICAgICAgICAgICAgICAgICAgICA/IG9uM2RCdWlsZGluZ0NvbG9yQ2hhbmdlXG4gICAgICAgICAgICAgICAgICAgIDogc2x1ZyA9PT0gQkFDS0dST1VORF9MQVlFUl9HUk9VUF9TTFVHXG4gICAgICAgICAgICAgICAgICAgID8gb25CYWNrZ3JvdW5kQ29sb3JDaGFuZ2VcbiAgICAgICAgICAgICAgICAgICAgOiBub29wXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgICl9XG4gICAgICAgIDwvUGFuZWxDb250ZW50PlxuICAgICAgPC9TdHlsZWRJbnRlcmFjdGlvblBhbmVsPlxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIExheWVyR3JvdXBTZWxlY3Rvcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTGF5ZXJHcm91cFNlbGVjdG9yRmFjdG9yeTtcbiJdfQ==