"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CloudMaps = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _react = _interopRequireDefault(require("react"));

var _styledComponents = _interopRequireDefault(require("styled-components"));

var _loadingDialog = _interopRequireDefault(require("../loading-dialog"));

var _localization = require("@kepler.gl/localization");

var _cloudItem = require("./cloud-item");

var _flexContainer = require("../../common/flex-container");

var _templateObject, _templateObject2;

var StyledSpinner = _styledComponents["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  text-align: center;\n  span {\n    margin: 0 auto;\n  }\n"])));

var StyledFlexContainer = (0, _styledComponents["default"])(_flexContainer.FlexContainer)(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n  justify-content: flex-start;\n  flex-wrap: wrap;\n"])));

var CloudMaps = function CloudMaps(_ref) {
  var provider = _ref.provider,
      onSelectMap = _ref.onSelectMap,
      isLoading = _ref.isLoading,
      maps = _ref.maps,
      error = _ref.error;

  if (error) {
    return /*#__PURE__*/_react["default"].createElement("div", null, "Error while fetching maps: ", error.message);
  }

  if (isLoading) {
    return /*#__PURE__*/_react["default"].createElement(StyledSpinner, null, /*#__PURE__*/_react["default"].createElement(_loadingDialog["default"], {
      size: 64
    }));
  }

  return /*#__PURE__*/_react["default"].createElement(StyledFlexContainer, null, (maps !== null && maps !== void 0 ? maps : []).length ? maps.map(function (vis) {
    return /*#__PURE__*/_react["default"].createElement(_cloudItem.CloudItem, {
      key: vis.id,
      onClick: function onClick() {
        return onSelectMap(provider, vis);
      },
      vis: vis
    });
  }) : /*#__PURE__*/_react["default"].createElement("div", {
    className: "visualization-list__message"
  }, /*#__PURE__*/_react["default"].createElement(_localization.FormattedMessage, {
    id: 'modal.loadStorageMap.noSavedMaps'
  })));
};

exports.CloudMaps = CloudMaps;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9tb2RhbHMvY2xvdWQtY29tcG9uZW50cy9jbG91ZC1tYXBzLnRzeCJdLCJuYW1lcyI6WyJTdHlsZWRTcGlubmVyIiwic3R5bGVkIiwiZGl2IiwiU3R5bGVkRmxleENvbnRhaW5lciIsIkZsZXhDb250YWluZXIiLCJDbG91ZE1hcHMiLCJwcm92aWRlciIsIm9uU2VsZWN0TWFwIiwiaXNMb2FkaW5nIiwibWFwcyIsImVycm9yIiwibWVzc2FnZSIsImxlbmd0aCIsIm1hcCIsInZpcyIsImlkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUdBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsSUFBTUEsYUFBYSxHQUFHQyw2QkFBT0MsR0FBVixtSkFBbkI7O0FBT0EsSUFBTUMsbUJBQW1CLEdBQUcsa0NBQU9DLDRCQUFQLENBQUgsOElBQXpCOztBQUtPLElBQU1DLFNBQVMsR0FBRyxTQUFaQSxTQUFZLE9BQXFEO0FBQUEsTUFBbkRDLFFBQW1ELFFBQW5EQSxRQUFtRDtBQUFBLE1BQXpDQyxXQUF5QyxRQUF6Q0EsV0FBeUM7QUFBQSxNQUE1QkMsU0FBNEIsUUFBNUJBLFNBQTRCO0FBQUEsTUFBakJDLElBQWlCLFFBQWpCQSxJQUFpQjtBQUFBLE1BQVhDLEtBQVcsUUFBWEEsS0FBVzs7QUFDNUUsTUFBSUEsS0FBSixFQUFXO0FBQ1Qsd0JBQU8sNEVBQWlDQSxLQUFLLENBQUNDLE9BQXZDLENBQVA7QUFDRDs7QUFFRCxNQUFJSCxTQUFKLEVBQWU7QUFDYix3QkFDRSxnQ0FBQyxhQUFELHFCQUNFLGdDQUFDLHlCQUFEO0FBQWUsTUFBQSxJQUFJLEVBQUU7QUFBckIsTUFERixDQURGO0FBS0Q7O0FBRUQsc0JBQ0UsZ0NBQUMsbUJBQUQsUUFDRyxDQUFDQyxJQUFELGFBQUNBLElBQUQsY0FBQ0EsSUFBRCxHQUFTLEVBQVQsRUFBYUcsTUFBYixHQUNDSCxJQUFJLENBQUNJLEdBQUwsQ0FBUyxVQUFBQyxHQUFHO0FBQUEsd0JBQ1YsZ0NBQUMsb0JBQUQ7QUFBVyxNQUFBLEdBQUcsRUFBRUEsR0FBRyxDQUFDQyxFQUFwQjtBQUF3QixNQUFBLE9BQU8sRUFBRTtBQUFBLGVBQU1SLFdBQVcsQ0FBQ0QsUUFBRCxFQUFXUSxHQUFYLENBQWpCO0FBQUEsT0FBakM7QUFBbUUsTUFBQSxHQUFHLEVBQUVBO0FBQXhFLE1BRFU7QUFBQSxHQUFaLENBREQsZ0JBS0M7QUFBSyxJQUFBLFNBQVMsRUFBQztBQUFmLGtCQUNFLGdDQUFDLDhCQUFEO0FBQWtCLElBQUEsRUFBRSxFQUFFO0FBQXRCLElBREYsQ0FOSixDQURGO0FBYUQsQ0ExQk0iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgY29udHJpYnV0b3JzIHRvIHRoZSBrZXBsZXIuZ2wgcHJvamVjdFxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgTG9hZGluZ0RpYWxvZyBmcm9tICcuLi9sb2FkaW5nLWRpYWxvZyc7XG5pbXBvcnQge0Zvcm1hdHRlZE1lc3NhZ2V9IGZyb20gJ0BrZXBsZXIuZ2wvbG9jYWxpemF0aW9uJztcbmltcG9ydCB7Q2xvdWRJdGVtfSBmcm9tICcuL2Nsb3VkLWl0ZW0nO1xuaW1wb3J0IHtGbGV4Q29udGFpbmVyfSBmcm9tICcuLi8uLi9jb21tb24vZmxleC1jb250YWluZXInO1xuXG5jb25zdCBTdHlsZWRTcGlubmVyID0gc3R5bGVkLmRpdmBcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBzcGFuIHtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgfVxuYDtcblxuY29uc3QgU3R5bGVkRmxleENvbnRhaW5lciA9IHN0eWxlZChGbGV4Q29udGFpbmVyKWBcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICBmbGV4LXdyYXA6IHdyYXA7XG5gO1xuXG5leHBvcnQgY29uc3QgQ2xvdWRNYXBzID0gKHtwcm92aWRlciwgb25TZWxlY3RNYXAsIGlzTG9hZGluZywgbWFwcywgZXJyb3J9KSA9PiB7XG4gIGlmIChlcnJvcikge1xuICAgIHJldHVybiA8ZGl2PkVycm9yIHdoaWxlIGZldGNoaW5nIG1hcHM6IHtlcnJvci5tZXNzYWdlfTwvZGl2PjtcbiAgfVxuXG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFN0eWxlZFNwaW5uZXI+XG4gICAgICAgIDxMb2FkaW5nRGlhbG9nIHNpemU9ezY0fSAvPlxuICAgICAgPC9TdHlsZWRTcGlubmVyPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxTdHlsZWRGbGV4Q29udGFpbmVyPlxuICAgICAgeyhtYXBzID8/IFtdKS5sZW5ndGggPyAoXG4gICAgICAgIG1hcHMubWFwKHZpcyA9PiAoXG4gICAgICAgICAgPENsb3VkSXRlbSBrZXk9e3Zpcy5pZH0gb25DbGljaz17KCkgPT4gb25TZWxlY3RNYXAocHJvdmlkZXIsIHZpcyl9IHZpcz17dmlzfSAvPlxuICAgICAgICApKVxuICAgICAgKSA6IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2aXN1YWxpemF0aW9uLWxpc3RfX21lc3NhZ2VcIj5cbiAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZSBpZD17J21vZGFsLmxvYWRTdG9yYWdlTWFwLm5vU2F2ZWRNYXBzJ30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvU3R5bGVkRmxleENvbnRhaW5lcj5cbiAgKTtcbn07XG4iXX0=